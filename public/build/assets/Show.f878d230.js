import{Q as S}from"./QSpace.0e56d929.js";import{Q as y,a as V}from"./QCard.0dd6e118.js";import{Q as j}from"./QInput.6a771f70.js";import{Q as N}from"./QSelect.a7ccb79e.js";import{a2 as $,r as f,o as u,c as _,w as e,b as t,a as s,t as b,g as C,aN as B,f as p,a8 as q,v as h,a3 as I,d as L,h as P,F as w,aq as A}from"./app.5537cded.js";import{Q as E,a as g}from"./QTable.2a65d3ec.js";import{Q as F,f as T,a as z,b as M}from"./QList.680c6294.js";import{Q as U}from"./QPage.8a45850e.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang.9decce2b.js";import{u as J}from"./use-quasar.cbd9147c.js";import"./focus-manager.c162f84c.js";import"./use-key-composition.f26dbfe8.js";import"./uid.3b368bd0.js";import"./QChip.b89302f7.js";import"./QItemLabel.651ae715.js";import"./QDialog.1b717610.js";import"./use-prevent-scroll.1f2f953d.js";import"./focusout.8febd6d7.js";import"./format.1bf312ea.js";import"./QSeparator.76d3a03b.js";import"./QCheckbox.76d86bb4.js";import"./use-fullscreen.9d8897a5.js";import"./QImg.7832a2e8.js";import"./touch.f1d6b462.js";const R={class:"text-h6"},G={class:"flex justify-between w-full"},H=s("h3",{class:"text-h6"},"Applicants",-1),K=["onSubmit"],O={class:"flex q-gutter-sm"},W=["href"],X=["src"],ya=$({__name:"Show",props:{job:null,applicant_status:null,applicants:null},setup(o){var d,c;const{job:Q,applicant_status:Y}=o;J();const v=f([{name:"first_name",label:"Name",field:"first_name",sortable:!0,align:"left"},{name:"last_name",label:"Last Name",field:"last_name",sortable:!0,align:"left"},{name:"email",label:"Email",field:"email",sortable:!0,align:"left"},{name:"phone",label:"Phone",field:"phone",sortable:!0,align:"left"},{name:"resume",label:"Resume",field:"resume",sortable:!0,align:"left"},{name:"status",label:"Status",field:"status",sortable:!0,align:"left"}]),i=f({search:(d=route().params.search)!=null?d:"",applicant_status_id:(c=route().params.applicant_status_id)!=null?c:null});function x(n){return n==="application/pdf"?"/images/pdf.png":n==="application/msword"?"/images/doc.png":"/images/google-docs.png"}function k(){A.Inertia.get(`/admin/jobs/${Q.id}`,i.value)}return(n,r)=>(u(),_(D,{title:"Jobs"},{default:e(()=>[t(U,{padding:"",class:"flex flex-col"},{default:e(()=>[t(y,{class:"mx-auto max-w-7xl w-full mb-5",flat:"",bordered:""},{default:e(()=>[t(V,{class:"q-pa-md"},{default:e(()=>[s("div",R,b(o.job.title),1),t(S),t(C(B),{href:`/admin/jobs/${o.job.id}/edit`,unelevated:"",dense:"","text-color":"black",class:"border pa-2"},{default:e(()=>[p("Edit")]),_:1},8,["href"])]),_:1})]),_:1}),t(E,{class:"mx-auto max-w-7xl w-full",rows:o.applicants,columns:v.value,pagination:{rowsPerPage:50}},{top:e(()=>[s("div",G,[H,s("form",{method:"get",onSubmit:q(k,["prevent"])},[s("div",O,[t(j,{modelValue:i.value.search,"onUpdate:modelValue":r[0]||(r[0]=a=>i.value.search=a),outlined:"",name:"search",dense:"",placeholder:"Search by name, email, phone"},null,8,["modelValue"]),t(N,{dense:"",outlined:"",options:n.$props.applicant_status,"option-label":a=>a.name,name:"applicant_status_id",modelValue:i.value.applicant_status_id,"onUpdate:modelValue":r[1]||(r[1]=a=>i.value.applicant_status_id=a),"option-value":"id","emit-value":"","map-options":"",clearable:""},null,8,["options","option-label","modelValue"]),t(h,{unelevated:"",dense:"",type:"submit",color:"primary"},{default:e(()=>[p(" Search ")]),_:1})])],40,K)])]),"body-cell-resume":e(({row:a})=>[t(g,null,{default:e(()=>{var l;return[s("a",{href:(l=a==null?void 0:a.resume)==null?void 0:l.original_url,target:"_blank"},[t(I,{square:"",size:"sm"},{default:e(()=>{var m;return[s("img",{src:x((m=a==null?void 0:a.resume)==null?void 0:m.mime_type)},null,8,X)]}),_:2},1024)],8,W)]}),_:2},1024)]),"body-cell-status":e(({row:a})=>[t(g,null,{default:e(()=>[t(h,{unelevated:"",dense:"","text-color":"black",class:"border pa-2",color:a.applicant_status.color,label:a.applicant_status.name,size:"sm"},{default:e(()=>[t(F,null,{default:e(()=>[t(T,null,{default:e(()=>[(u(!0),L(w,null,P(o.applicant_status,(l,m)=>(u(),_(z,{disable:a.applicant_status.name===l.name||l.name==="New",key:m,clickable:"",onClick:Z=>n.$inertia.put(`/admin/applicant/${a.id}`,{applicant_status_id:l.id})},{default:e(()=>[t(M,null,{default:e(()=>[p(b(l.name),1)]),_:2},1024)]),_:2},1032,["disable","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["color","label"])]),_:2},1024)]),_:1},8,["rows","columns"])]),_:1})]),_:1}))}});export{ya as default};
