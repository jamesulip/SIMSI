import{bu as ot,a8 as dt,r as R,o as ct,c as ft,w as d,b as f,a as l,aE as nt,aF as K,O as st,t as x}from"./app.b864f0e4.js";import{Q as it,a as A}from"./QTable.780bebeb.js";import{b as at}from"./QSelect.2b990c7a.js";import{Q as ht}from"./QPage.8bae34e4.js";import{_ as mt}from"./AppLayout.vue_vue_type_script_setup_true_lang.1b1a6df0.js";import"./QLayout.f2e0a56f.js";import"./use-fullscreen.d23888ad.js";import"./format.62909ef4.js";import"./QImg.ff07490f.js";import"./touch.70a9dd44.js";var lt={exports:{}};(function(D,X){(function(T,j){D.exports=j()})(ot,function(){var T=1e3,j=6e4,C=36e5,$="millisecond",O="second",b="minute",S="hour",s="day",w="week",p="month",I="quarter",H="year",L="date",P="Invalid Date",z=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,F=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,U={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(i){var n=["th","st","nd","rd"],t=i%100;return"["+i+(n[(t-20)%10]||n[t]||n[0])+"]"}},V=function(i,n,t){var a=String(i);return!a||a.length>=n?i:""+Array(n+1-a.length).join(t)+i},Q={s:V,z:function(i){var n=-i.utcOffset(),t=Math.abs(n),a=Math.floor(t/60),e=t%60;return(n<=0?"+":"-")+V(a,2,"0")+":"+V(e,2,"0")},m:function i(n,t){if(n.date()<t.date())return-i(t,n);var a=12*(t.year()-n.year())+(t.month()-n.month()),e=n.clone().add(a,p),o=t-e<0,r=n.clone().add(a+(o?-1:1),p);return+(-(a+(t-e)/(o?e-r:r-e))||0)},a:function(i){return i<0?Math.ceil(i)||0:Math.floor(i)},p:function(i){return{M:p,y:H,w,d:s,D:L,h:S,m:b,s:O,ms:$,Q:I}[i]||String(i||"").toLowerCase().replace(/s$/,"")},u:function(i){return i===void 0}},g="en",y={};y[g]=U;var W=function(i){return i instanceof q},Y=function i(n,t,a){var e;if(!n)return g;if(typeof n=="string"){var o=n.toLowerCase();y[o]&&(e=o),t&&(y[o]=t,e=o);var r=n.split("-");if(!e&&r.length>1)return i(r[0])}else{var u=n.name;y[u]=n,e=u}return!a&&e&&(g=e),e||!a&&g},_=function(i,n){if(W(i))return i.clone();var t=typeof n=="object"?n:{};return t.date=i,t.args=arguments,new q(t)},c=Q;c.l=Y,c.i=W,c.w=function(i,n){return _(i,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var q=function(){function i(t){this.$L=Y(t.locale,null,!0),this.parse(t)}var n=i.prototype;return n.parse=function(t){this.$d=function(a){var e=a.date,o=a.utc;if(e===null)return new Date(NaN);if(c.u(e))return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){var r=e.match(z);if(r){var u=r[2]-1||0,m=(r[7]||"0").substring(0,3);return o?new Date(Date.UTC(r[1],u,r[3]||1,r[4]||0,r[5]||0,r[6]||0,m)):new Date(r[1],u,r[3]||1,r[4]||0,r[5]||0,r[6]||0,m)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},n.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},n.$utils=function(){return c},n.isValid=function(){return this.$d.toString()!==P},n.isSame=function(t,a){var e=_(t);return this.startOf(a)<=e&&e<=this.endOf(a)},n.isAfter=function(t,a){return _(t)<this.startOf(a)},n.isBefore=function(t,a){return this.endOf(a)<_(t)},n.$g=function(t,a,e){return c.u(t)?this[a]:this.set(e,t)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(t,a){var e=this,o=!!c.u(a)||a,r=c.p(t),u=function(B,M){var J=c.w(e.$u?Date.UTC(e.$y,M,B):new Date(e.$y,M,B),e);return o?J:J.endOf(s)},m=function(B,M){return c.w(e.toDate()[B].apply(e.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(M)),e)},h=this.$W,v=this.$M,k=this.$D,N="set"+(this.$u?"UTC":"");switch(r){case H:return o?u(1,0):u(31,11);case p:return o?u(1,v):u(0,v+1);case w:var Z=this.$locale().weekStart||0,E=(h<Z?h+7:h)-Z;return u(o?k-E:k+(6-E),v);case s:case L:return m(N+"Hours",0);case S:return m(N+"Minutes",1);case b:return m(N+"Seconds",2);case O:return m(N+"Milliseconds",3);default:return this.clone()}},n.endOf=function(t){return this.startOf(t,!1)},n.$set=function(t,a){var e,o=c.p(t),r="set"+(this.$u?"UTC":""),u=(e={},e[s]=r+"Date",e[L]=r+"Date",e[p]=r+"Month",e[H]=r+"FullYear",e[S]=r+"Hours",e[b]=r+"Minutes",e[O]=r+"Seconds",e[$]=r+"Milliseconds",e)[o],m=o===s?this.$D+(a-this.$W):a;if(o===p||o===H){var h=this.clone().set(L,1);h.$d[u](m),h.init(),this.$d=h.set(L,Math.min(this.$D,h.daysInMonth())).$d}else u&&this.$d[u](m);return this.init(),this},n.set=function(t,a){return this.clone().$set(t,a)},n.get=function(t){return this[c.p(t)]()},n.add=function(t,a){var e,o=this;t=Number(t);var r=c.p(a),u=function(v){var k=_(o);return c.w(k.date(k.date()+Math.round(v*t)),o)};if(r===p)return this.set(p,this.$M+t);if(r===H)return this.set(H,this.$y+t);if(r===s)return u(1);if(r===w)return u(7);var m=(e={},e[b]=j,e[S]=C,e[O]=T,e)[r]||1,h=this.$d.getTime()+t*m;return c.w(h,this)},n.subtract=function(t,a){return this.add(-1*t,a)},n.format=function(t){var a=this,e=this.$locale();if(!this.isValid())return e.invalidDate||P;var o=t||"YYYY-MM-DDTHH:mm:ssZ",r=c.z(this),u=this.$H,m=this.$m,h=this.$M,v=e.weekdays,k=e.months,N=function(M,J,tt,G){return M&&(M[J]||M(a,o))||tt[J].slice(0,G)},Z=function(M){return c.s(u%12||12,M,"0")},E=e.meridiem||function(M,J,tt){var G=M<12?"AM":"PM";return tt?G.toLowerCase():G},B={YY:String(this.$y).slice(-2),YYYY:this.$y,M:h+1,MM:c.s(h+1,2,"0"),MMM:N(e.monthsShort,h,k,3),MMMM:N(k,h),D:this.$D,DD:c.s(this.$D,2,"0"),d:String(this.$W),dd:N(e.weekdaysMin,this.$W,v,2),ddd:N(e.weekdaysShort,this.$W,v,3),dddd:v[this.$W],H:String(u),HH:c.s(u,2,"0"),h:Z(1),hh:Z(2),a:E(u,m,!0),A:E(u,m,!1),m:String(m),mm:c.s(m,2,"0"),s:String(this.$s),ss:c.s(this.$s,2,"0"),SSS:c.s(this.$ms,3,"0"),Z:r};return o.replace(F,function(M,J){return J||B[M]||r.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(t,a,e){var o,r=c.p(a),u=_(t),m=(u.utcOffset()-this.utcOffset())*j,h=this-u,v=c.m(this,u);return v=(o={},o[H]=v/12,o[p]=v,o[I]=v/3,o[w]=(h-m)/6048e5,o[s]=(h-m)/864e5,o[S]=h/C,o[b]=h/j,o[O]=h/T,o)[r]||h,e?v:c.a(v)},n.daysInMonth=function(){return this.endOf(p).$D},n.$locale=function(){return y[this.$L]},n.locale=function(t,a){if(!t)return this.$L;var e=this.clone(),o=Y(t,a,!0);return o&&(e.$L=o),e},n.clone=function(){return c.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},i}(),et=q.prototype;return _.prototype=et,[["$ms",$],["$s",O],["$m",b],["$H",S],["$W",s],["$M",p],["$y",H],["$D",L]].forEach(function(i){et[i[1]]=function(n){return this.$g(n,i[0],i[1])}}),_.extend=function(i,n){return i.$i||(i(n,q,_),i.$i=!0),_},_.locale=Y,_.isDayjs=W,_.unix=function(i){return _(1e3*i)},_.en=y[g],_.Ls=y,_.p={},_})})(lt);const rt=lt.exports;var ut={exports:{}};(function(D,X){(function(T,j){D.exports=j()})(ot,function(){return function(T,j,C){T=T||{};var $=j.prototype,O={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function b(s,w,p,I){return $.fromToBase(s,w,p,I)}C.en.relativeTime=O,$.fromToBase=function(s,w,p,I,H){for(var L,P,z,F=p.$locale().relativeTime||O,U=T.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],V=U.length,Q=0;Q<V;Q+=1){var g=U[Q];g.d&&(L=I?C(s).diff(p,g.d,!0):p.diff(s,g.d,!0));var y=(T.rounding||Math.round)(Math.abs(L));if(z=L>0,y<=g.r||!g.r){y<=1&&Q>0&&(g=U[Q-1]);var W=F[g.l];H&&(y=H(""+y)),P=typeof W=="string"?W.replace("%d",y):W(y,w,g.l,z);break}}if(w)return P;var Y=z?F.future:F.past;return typeof Y=="function"?Y(P):Y.replace("%s",P)},$.to=function(s,w){return b(s,w,this,!0)},$.from=function(s,w){return b(s,w,this)};var S=function(s){return s.$u?C.utc():C()};$.toNow=function(s){return this.to(S(this),s)},$.fromNow=function(s){return this.from(S(this),s)}}})})(ut);const _t=ut.exports,pt={class:"grid grid-cols-6 gap-3 w-full"},$t=l("div",{class:"text-"},"Total Jobs",-1),vt={class:"text-center"},bt={class:"text-h4 text-green"},gt=l("div",{class:""},"Total Posted Job",-1),yt={class:"text-center"},Mt={class:"text-h4 text-green"},xt=l("div",{class:""},"Total Active Job",-1),wt={class:"text-center"},Dt={class:"text-h4 text-red"},St=l("div",{class:"text-"},"Close Job",-1),Tt=l("div",{class:"text-"}," Dashboard",-1),jt={class:"text-center"},Ot={class:"text-h4 text-green"},Ht=l("div",{class:""},"Applicants",-1),Lt={class:"text-center"},At={class:"text-h4 text-blue"},Ct=l("div",{class:""},"New",-1),Nt={class:"text-center"},Yt={class:"text-h4 text-yellow-500"},kt=l("div",{class:""},"In Progress",-1),Jt={class:"max-w-xs text-ellipsis overflow-hidden"},Pt=["innerHTML"],Qt={class:"max-w-xs text-ellipsis overflow-hidden"},Wt=["href","innerHTML"],It=["href"],Bt=["href"],zt=["href"],Ft={class:"max-w-xs text-ellipsis overflow-hidden"},Ut=["href","innerHTML"],Vt={class:"font-semibold"},se=dt({__name:"Dashboard",props:{applicants:null,jobs:null},setup(D){const X=R([{label:"Job Title",field:"title",name:"title",align:"left",sortable:!0},{label:"Location",field:"location",name:"location",align:"left",sortable:!0},{label:"New",field:"new",name:"new",align:"center",sortable:!0},{label:"Approved",field:"approved",name:"approved",align:"center",sortable:!0},{label:"Rejected",field:"rejected",name:"rejected",align:"center",sortable:!0},{label:"Status",field:"status",name:"status",align:"left",sortable:!0}]),T=R([{label:"Name",field:"first_name",name:"first_name",align:"left",sortable:!0},{label:"Email",field:"email",name:"email",align:"left",sortable:!0},{label:"Job Title",field:"job_title",name:"job_title",align:"left",sortable:!0},{label:"Status",field:"status",name:"status",align:"left",sortable:!0},{label:"Applied Date",field:"created_at",name:"created_at",align:"left",sortable:!0}]),j=R({rowsPerPage:10}),C=R({rowsPerPage:10});function $(b,S){return b.filter(s=>s.applicant_status_id==S).length}rt.extend(_t);function O(b){return rt(b).fromNow()}return(b,S)=>(ct(),ft(mt,{title:"Dashboard"},{default:d(()=>[f(ht,{padding:""},{default:d(()=>[l("div",pt,[f(nt,{flat:"",bordered:"",class:"col-span-3"},{default:d(()=>[f(K,{class:"p-3"},{default:d(()=>[$t]),_:1}),f(st),f(K,{class:"flex w-full justify-around"},{default:d(()=>[l("div",vt,[l("div",bt,x(D.jobs.length),1),gt]),l("div",yt,[l("div",Mt,x(D.jobs.filter(s=>s.active).length),1),xt]),l("div",wt,[l("div",Dt,x(D.jobs.filter(s=>!s.active).length),1),St])]),_:1})]),_:1}),f(nt,{flat:"",bordered:"",class:"col-span-3"},{default:d(()=>[f(K,{class:"p-3"},{default:d(()=>[Tt]),_:1}),f(st),f(K,{class:"flex w-full justify-around"},{default:d(()=>[l("div",jt,[l("div",Ot,x(D.applicants.length),1),Ht]),l("div",Lt,[l("div",At,x($(D.applicants,1)),1),Ct]),l("div",Nt,[l("div",Yt,x($(D.applicants,3)),1),kt])]),_:1})]),_:1}),f(it,{pagination:j.value,separator:"cell",columns:X.value,flat:"",bordered:"",title:"Applicants",rows:D.jobs,"row-key":"id",class:"col-span-full"},{"body-cell-location":d(({row:s})=>[f(A,{"auto-width":""},{default:d(()=>[l("div",Jt,[l("span",{innerHTML:s.location},null,8,Pt)])]),_:2},1024)]),"body-cell-title":d(({row:s})=>[f(A,{"auto-width":""},{default:d(()=>[l("div",Qt,[l("a",{class:"text-blue",href:`/admin/jobs/${s.id}`,innerHTML:s.title},null,8,Wt)])]),_:2},1024)]),"body-cell-rejected":d(({row:s})=>[f(A,{"auto-width":""},{default:d(()=>[l("a",{href:`/admin/jobs/${s.id}?applicant_status_id=1`,class:"text-red"},x($(s.applicant,1)),9,It)]),_:2},1024)]),"body-cell-new":d(({row:s})=>[f(A,{"auto-width":""},{default:d(()=>[l("a",{href:`/admin/jobs/${s.id}?applicant_status_id=5`,class:"text-blue"},x($(s.applicant,5)),9,Bt)]),_:2},1024)]),"body-cell-approved":d(({row:s})=>[f(A,{"auto-width":""},{default:d(()=>[l("a",{href:`/admin/jobs/${s.id}?applicant_status_id=2`,class:"text-red"},x($(s.applicant,2)),9,zt)]),_:2},1024)]),"body-cell-status":d(({row:s})=>[f(A,{"auto-width":""},{default:d(()=>[f(at,{color:s.active?"green":"red","text-color":"white",size:"xs",outline:!s.active},null,8,["color","outline"])]),_:2},1024)]),_:1},8,["pagination","columns","rows"]),f(it,{pagination:C.value,columns:T.value,flat:"",bordered:"",title:"Applicants",rows:D.applicants,"row-key":"id",class:"col-span-full"},{"body-cell-status":d(({row:s})=>[f(A,null,{default:d(()=>[f(at,{color:`${s.applicant_status.color}-3`,"text-color":"black",size:"sm",outline:!s.applicant_status.color,innerHTML:s.applicant_status.name},null,8,["color","outline","innerHTML"])]),_:2},1024)]),"body-cell-first_name":d(({row:s})=>[f(A,null,{default:d(()=>[l("div",Ft,[l("a",{class:"text-blue",href:`/admin/jobs/${s.jobs_id}/applicant/${s.id}`,innerHTML:`${s.last_name}. ${s.first_name}`},null,8,Ut)])]),_:2},1024)]),"body-cell-email":d(({row:s})=>[f(A,null,{default:d(()=>[l("ul",null,[l("li",null,x(s.email),1),l("li",null,x(s.phone),1)])]),_:2},1024)]),"body-cell-created_at":d(({row:s})=>[f(A,null,{default:d(()=>[l("div",null,[l("div",Vt,x(new Date(s.created_at).toLocaleDateString())+" ("+x(new Date(s.created_at).toLocaleTimeString())+")",1),l("div",null,x(O(s.created_at)),1)])]),_:2},1024)]),_:1},8,["pagination","columns","rows"])])]),_:1})]),_:1}))}});export{se as default};
