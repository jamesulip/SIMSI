import{Q as C,a as n,b as q}from"./QCard.d0dd7adb.js";import{Q as r}from"./QSeparator.bd60b14f.js";import{Q as u}from"./QInput.e6c6b9fd.js";import{Q as $,C as g}from"./ClosePopup.42d1f5a8.js";import{Q as d}from"./QSelect.cfa5a8e8.js";import{a2 as j,r as p,o as U,c as h,w as t,b as l,a8 as M,g as F,Q as f,a as c,L as _,v as m,f as P,aq as L}from"./app.ff758b6b.js";import{Q as w,a as Q,b as I}from"./QFile.856ecef6.js";import{Q as N}from"./QSpace.65b0b14f.js";import{Q as B}from"./QForm.9769249f.js";import{Q as E}from"./QPage.d4c1fc98.js";import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang.65c521d4.js";import{d as S}from"./date.b0d938a3.js";import{u as A}from"./index.d268dedd.js";import"./focus-manager.d33e3981.js";import"./use-key-composition.aa771d56.js";import"./uid.42677368.js";import"./QList.14660c9e.js";import"./focusout.d047a4c4.js";import"./use-fullscreen.343c0d4c.js";import"./QChip.e1d25e07.js";import"./QItemLabel.179cd328.js";import"./QDialog.dad5f0e9.js";import"./use-prevent-scroll.27eec8c6.js";import"./format.2bc25e5f.js";import"./use-cache.b0833c75.js";import"./QImg.eb6c192c.js";import"./touch.70a9dd44.js";const J=c("div",{class:"text-h6"},"Job Details",-1),R={class:"row items-center justify-end"},G={class:"row items-center justify-end"},we=j({__name:"Create",props:{job_types:null,employers:null},setup(v){const o=p({title:"",description:"",location:"",salary:"",show_salary:"",skills:[],images:[]});function k(i,a){a(i,"add-unique")}const b=p(null);function x(){!b.value.validate()||L.Inertia.post("/admin/jobs",{...o.value,text_content:o.value.description,date_posted:S.formatDate(new Date,"YYYY-MM-DD"),date_expires:S.formatDate(new Date,"YYYY-MM-DD")},{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{o.value={title:"",description:"",location:"",salary:"",show_salary:"",skills:[]}}})}const{data:y,isFetching:D}=A("https://restcountries.com/v3.1/all?fields=name").json(),V=p(y.value);function z(i,a,e){a(()=>{const s=i.toLowerCase();V.value=y.value.filter(Y=>Y.name.common.toLowerCase().indexOf(s)>-1)})}return(i,a)=>(U(),h(T,{title:"Jobs"},{default:t(()=>[l(E,{padding:""},{default:t(()=>[l(B,{ref_key:"form",ref:b,onSubmit:M(x,["prevent"])},{default:t(()=>[l(C,{flat:"",bordered:"",class:"max-w-7xl"},{default:t(()=>[l(n,null,{default:t(()=>[J]),_:1}),l(r),l(n,null,{default:t(()=>[l(u,{modelValue:o.value.title,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value.title=e),label:"Title",outlined:"","lazy-rules":"",rules:[e=>!!e||"Please type something"]},null,8,["modelValue","rules"])]),_:1}),l(r),l(n,null,{default:t(()=>[l($,{"model-value":o.value.description,"onUpdate:model-value":a[1]||(a[1]=e=>o.value.description=e),toolbar:[[{label:i.$q.lang.editor.align,icon:i.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]},{label:i.$q.lang.editor.align,icon:i.$q.iconSet.editor.align,fixedLabel:!0,options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:i.$q.lang.editor.formatting,icon:i.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:i.$q.lang.editor.fontSize,icon:i.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:i.$q.lang.editor.defaultFont,icon:i.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"],["viewsource"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"},label:"Description",outlined:"","lazy-rules":"",rules:[e=>!!e||"Please type something"]},null,8,["model-value","toolbar","rules"])]),_:1}),l(n,{class:"q-gutter-md"},{default:t(()=>[l(d,{modelValue:o.value.employer_id,"onUpdate:modelValue":a[2]||(a[2]=e=>o.value.employer_id=e),outlined:"",label:"Employer",options:v.employers,"map-options":"","emit-value":"","option-value":e=>e.id,"option-label":e=>e.name},null,8,["modelValue","options","option-value","option-label"]),l(d,{"use-input":"",options:V.value,onFilter:z,modelValue:o.value.location,"onUpdate:modelValue":a[3]||(a[3]=e=>o.value.location=e),outlined:"",label:"Location",loading:F(D),"option-label":e=>{var s;return(s=e==null?void 0:e.name)==null?void 0:s.common},"map-options":"","emit-value":"","option-value":e=>{var s;return(s=e==null?void 0:e.name)==null?void 0:s.common}},null,8,["options","modelValue","loading","option-label","option-value"])]),_:1}),l(n,{class:"flex gap-3"},{default:t(()=>[l(u,{prefix:"Php",modelValue:o.value.salary,"onUpdate:modelValue":a[4]||(a[4]=e=>o.value.salary=e),label:"Salary",type:"number",class:"w-1/2",outlined:"",hint:"You can leave this field empty if you don't want to show salary","lazy-rules":""},null,8,["modelValue"])]),_:1}),l(n,{class:"flex gap-3"},{default:t(()=>[l(d,{class:"flex-1","max-values":"4","use-input":"","use-chips":"",multiple:"",onNewValue:k,modelValue:o.value.skills,"onUpdate:modelValue":a[5]||(a[5]=e=>o.value.skills=e),label:"Skills Required",outlined:"","lazy-rules":"",hint:"Please separate skills with comma"},null,8,["modelValue"]),l(d,{class:"flex-1",clearable:"",modelValue:o.value.job_type_id,"onUpdate:modelValue":a[6]||(a[6]=e=>o.value.job_type_id=e),"emit-value":"","map-options":"",label:"Employment Type",outlined:"",options:v.job_types,"lazy-rules":"","option-value":"id","option-label":"name"},null,8,["modelValue","options"])]),_:1}),l(n,{class:"flex gap-3"},{default:t(()=>[l(u,{class:"flex-1",modelValue:o.value.date_posted,"onUpdate:modelValue":a[8]||(a[8]=e=>o.value.date_posted=e),label:"Date Posted",outlined:"","lazy-rules":""},{append:t(()=>[l(f,{name:"event",class:"cursor-pointer"},{default:t(()=>[l(w,{"transition-show":"scale","transition-hide":"scale"},{default:t(()=>[l(Q,{mask:"YYYY-MM-DD",modelValue:o.value.date_posted,"onUpdate:modelValue":a[7]||(a[7]=e=>o.value.date_posted=e)},{default:t(()=>[c("div",R,[_(l(m,{label:"Close",color:"primary",flat:""},null,512),[[g]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(u,{class:"flex-1",modelValue:o.value.date_expires,"onUpdate:modelValue":a[10]||(a[10]=e=>o.value.date_expires=e),label:"Date Expires",outlined:"","lazy-rules":""},{append:t(()=>[l(f,{name:"event",class:"cursor-pointer"},{default:t(()=>[l(w,{"transition-show":"scale","transition-hide":"scale"},{default:t(()=>[l(Q,{modelValue:o.value.date_expires,"onUpdate:modelValue":a[9]||(a[9]=e=>o.value.date_expires=e),mask:"YYYY-MM-DD"},{default:t(()=>[c("div",G,[_(l(m,{label:"Close",color:"primary",flat:""},null,512),[[g]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(r),l(n,null,{default:t(()=>[l(I,{outlined:"",modelValue:o.value.images,"onUpdate:modelValue":a[11]||(a[11]=e=>o.value.images=e),multiple:""},{prepend:t(()=>[l(f,{name:"attach_file"})]),_:1},8,["modelValue"])]),_:1}),l(r),l(q,{align:"right"},{default:t(()=>[l(m,{size:"lg",onClick:a[12]||(a[12]=e=>i.$inertia.get("/admin/jobs")),color:"negative"},{default:t(()=>[P(" Cancel ")]),_:1}),l(N),l(m,{size:"lg",icon:"mdi-content-save-outline",label:"Save",type:"submit",color:"primary"})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}))}});export{we as default};
