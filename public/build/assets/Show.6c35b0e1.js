import{Q as x}from"./QSpace.a0c4372f.js";import{Q as f,b as u,a as C}from"./QCard.8245cb4d.js";import{Q as N}from"./QInput.306e92cf.js";import{Q as $}from"./QSelect.fb6ff34d.js";import{a2 as j,r as _,o as d,c as b,w as e,b as a,a as o,t as g,g as q,aN as B,f as h,v as Q,a8 as I,a3 as L,d as P,h as E,F,aq as T}from"./app.3fe44b88.js";import{Q as z,a as v}from"./QTable.8b742aad.js";import{Q as A,f as M,a as U,b as D}from"./QList.4a38d56b.js";import{Q as J}from"./QPage.98cd460c.js";import{_ as R}from"./AppLayout.vue_vue_type_script_setup_true_lang.571bd136.js";import{u as G}from"./use-quasar.543299e1.js";import"./focus-manager.70515060.js";import"./use-key-composition.4ee5e5f6.js";import"./uid.42677368.js";import"./QChip.a46b1e39.js";import"./QItemLabel.7e27f459.js";import"./QDialog.38827b05.js";import"./use-prevent-scroll.b164406c.js";import"./focusout.754fc6d8.js";import"./format.2bc25e5f.js";import"./QSeparator.6419b67c.js";import"./QCheckbox.7a718074.js";import"./use-fullscreen.09b7c07b.js";import"./QImg.7381ecff.js";import"./touch.70a9dd44.js";const H={class:"text-h6"},K=["onSubmit"],O=o("div",{class:"text-h6"},"Search",-1),W=["href"],X=["src"],Va=j({__name:"Show",props:{job:null,applicant_status:null,applicants:null},setup(s){var p,c;const{job:S,applicant_status:Y}=s;G();const k=_([{name:"first_name",label:"Name",field:"first_name",sortable:!0,align:"left"},{name:"last_name",label:"Last Name",field:"last_name",sortable:!0,align:"left"},{name:"email",label:"Email",field:"email",sortable:!0,align:"left"},{name:"phone",label:"Phone",field:"phone",sortable:!0,align:"left"},{name:"resume",label:"Resume",field:"resume",sortable:!0,align:"left"},{name:"status",label:"Status",field:"status",sortable:!0,align:"left"}]),n=_({search:(p=route().params.search)!=null?p:"",applicant_status_id:(c=route().params.applicant_status_id)!=null?c:null});function V(i){return i==="application/pdf"?"/images/pdf.png":i==="application/msword"?"/images/doc.png":"/images/google-docs.png"}function y(){T.Inertia.get(`/admin/jobs/${S.id}`,n.value)}return(i,r)=>(d(),b(R,{title:"Jobs"},{default:e(()=>[a(J,{padding:"",class:"q-gutter-md"},{default:e(()=>[a(f,{flat:"",bordered:""},{default:e(()=>[a(u,{class:"q-pa-md"},{default:e(()=>[o("div",H,g(s.job.title),1),a(x),a(q(B),{href:`/admin/jobs/${s.job.id}/edit`,unelevated:"",dense:"","text-color":"black",class:"border pa-2"},{default:e(()=>[h("Edit")]),_:1},8,["href"])]),_:1})]),_:1}),o("form",{method:"get",onSubmit:I(y,["prevent"])},[a(f,{flat:"",bordered:""},{default:e(()=>[a(u,{class:"q-pa-md"},{default:e(()=>[O]),_:1}),a(C,{class:"flex gap-3 items-start"},{default:e(()=>[a(N,{modelValue:n.value.search,"onUpdate:modelValue":r[0]||(r[0]=t=>n.value.search=t),outlined:"",name:"search",dense:"",placeholder:"Search by name, email, phone",class:"q-mb-md"},null,8,["modelValue"]),a($,{dense:"",outlined:"",options:i.$props.applicant_status,"option-label":t=>t.name,name:"applicant_status_id",modelValue:n.value.applicant_status_id,"onUpdate:modelValue":r[1]||(r[1]=t=>n.value.applicant_status_id=t),"option-value":"id","emit-value":"","map-options":""},null,8,["options","option-label","modelValue"])]),_:1}),a(u,null,{default:e(()=>[a(Q,{dense:"",unelevated:"",color:"primary",type:"submit",label:"Search"})]),_:1})]),_:1})],40,K),a(z,{rows:s.applicants,columns:k.value,pagination:{rowsPerPage:50}},{"body-cell-resume":e(({row:t})=>[a(v,null,{default:e(()=>{var l;return[o("a",{href:(l=t==null?void 0:t.resume)==null?void 0:l.original_url,target:"_blank"},[a(L,{square:"",size:"sm"},{default:e(()=>{var m;return[o("img",{src:V((m=t==null?void 0:t.resume)==null?void 0:m.mime_type)},null,8,X)]}),_:2},1024)],8,W)]}),_:2},1024)]),"body-cell-status":e(({row:t})=>[a(v,null,{default:e(()=>[a(Q,{unelevated:"",dense:"","text-color":"black",class:"border pa-2",color:t.applicant_status.color,label:t.applicant_status.name,size:"sm"},{default:e(()=>[a(A,null,{default:e(()=>[a(M,null,{default:e(()=>[(d(!0),P(F,null,E(s.applicant_status,(l,m)=>(d(),b(U,{disable:t.applicant_status.name===l.name||l.name==="New",key:m,clickable:"",onClick:Z=>i.$inertia.put(`/admin/applicant/${t.id}`,{applicant_status_id:l.id})},{default:e(()=>[a(D,null,{default:e(()=>[h(g(l.name),1)]),_:2},1024)]),_:2},1032,["disable","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["color","label"])]),_:2},1024)]),_:1},8,["rows","columns"])]),_:1})]),_:1}))}});export{Va as default};
