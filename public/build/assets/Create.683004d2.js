import{a8 as w,r as u,o as m,c as p,w as t,b as a,a as c,ag as C,aE as F,aF as f,O as S,a9 as E,Q as U,aG as s,g as _,aH as I,x as h,aI as A}from"./app.5a0fdf99.js";import{Q as B}from"./QImg.2f6bac1b.js";import{Q as D}from"./QFile.ab7f5ba1.js";import{Q as L}from"./QSelect.07e642b6.js";import{Q as N}from"./QSpace.e334e787.js";import{Q as q}from"./QForm.0c9a5b68.js";import{Q as $}from"./QPage.a1c34efb.js";import{_ as O}from"./AppLayout.vue_vue_type_script_setup_true_lang.9edf8939.js";import{u as P}from"./index.f494cd97.js";import"./format.f0cda7bf.js";import"./QLayout.f078c89a.js";import"./touch.70a9dd44.js";const R={class:"max-w-3xl"},j=c("div",{class:"text-h6"},"Employer Details",-1),z={class:"flex gap-3 w-full"},oe=w({__name:"Create",setup(G){const o=u({name:"",country:"",address:"",description:"",email:"",phone:"",website:""}),{data:v,isFetching:y}=P("https://restcountries.com/v3.1/all?fields=name").json(),b=u(v.value);function x(r,l,e){l(()=>{const n=r.toLowerCase();b.value=v.value.filter(k=>k.name.common.toLowerCase().indexOf(n)>-1)})}const V=u(null);function Q(){!V.value.validate()||A.Inertia.post("/admin/employers",{...o.value},{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{o.value={name:"",country:"",address:"",description:"",email:"",phone:"",website:""}}})}const i=u(null),d=u(null);function g(r){const l=r.target.files[0],e=new FileReader;e.readAsDataURL(l),e.onload=()=>{d.value=e.result}}return(r,l)=>(m(),p(O,null,{default:t(()=>[a($,{padding:""},{default:t(()=>[c("div",R,[a(q,{ref_key:"f",ref:V,onSubmit:C(Q,["prevent"])},{default:t(()=>[a(F,{flat:"",bordered:""},{default:t(()=>[a(f,null,{default:t(()=>[j]),_:1}),a(S),a(f,{class:"flex"},{default:t(()=>[d.value?(m(),p(B,{key:0,src:d.value,onClick:l[0]||(l[0]=e=>i.value.pickFiles()),class:"max-w-xs m-auto"},null,8,["src"])):(m(),p(E,{key:1,border:"",size:"100px",class:"mx-auto",onClick:l[1]||(l[1]=e=>i.value.pickFiles())},{default:t(()=>[a(U,{name:"account_circle"})]),_:1})),a(D,{accept:"image/*",ref_key:"uploader",ref:i,modelValue:o.value.logo,"onUpdate:modelValue":l[2]||(l[2]=e=>o.value.logo=e),class:"q-ml-md hidden",onInput:g},null,8,["modelValue"])]),_:1}),a(f,{class:"q-gutter-md"},{default:t(()=>[a(s,{modelValue:o.value.name,"onUpdate:modelValue":l[3]||(l[3]=e=>o.value.name=e),label:"Name",dense:"",outlined:"",type:"text",hint:"Enter employer name","stack-label":"",rules:[e=>e.length>0||"Name is required"]},null,8,["modelValue","rules"]),a(L,{"use-input":"",options:b.value,onFilter:x,modelValue:o.value.country,"onUpdate:modelValue":l[4]||(l[4]=e=>o.value.country=e),dense:"",outlined:"",label:"Location",loading:_(y),"option-label":e=>{var n;return(n=e==null?void 0:e.name)==null?void 0:n.common},"map-options":"","emit-value":"","option-value":e=>{var n;return(n=e==null?void 0:e.name)==null?void 0:n.common}},null,8,["options","modelValue","loading","option-label","option-value"]),a(s,{modelValue:o.value.address,"onUpdate:modelValue":l[5]||(l[5]=e=>o.value.address=e),label:"Address",dense:"",outlined:"",type:"text",hint:"Enter employer address","stack-label":""},null,8,["modelValue"]),a(s,{modelValue:o.value.description,"onUpdate:modelValue":l[6]||(l[6]=e=>o.value.description=e),label:"Company Description",dense:"",outlined:"",type:"textarea",hint:"Enter employer description","stack-label":""},null,8,["modelValue"]),c("div",z,[a(s,{modelValue:o.value.email,"onUpdate:modelValue":l[7]||(l[7]=e=>o.value.email=e),label:"Email",dense:"",class:"flex-1",outlined:"",type:"email",hint:"Enter employer email","stack-label":""},null,8,["modelValue"]),a(s,{modelValue:o.value.phone,"onUpdate:modelValue":l[8]||(l[8]=e=>o.value.phone=e),label:"Phone",dense:"",class:"flex-1",outlined:"",type:"text",hint:"Enter employer phone","stack-label":""},null,8,["modelValue"])]),a(s,{modelValue:o.value.website,"onUpdate:modelValue":l[9]||(l[9]=e=>o.value.website=e),label:"Website",dense:"",outlined:"",type:"text",hint:"Enter employer website","stack-label":""},null,8,["modelValue"])]),_:1}),a(I,null,{default:t(()=>[a(N),a(h,{type:"submit",color:"primary",label:"Submit"})]),_:1})]),_:1})]),_:1},8,["onSubmit"])])]),_:1})]),_:1}))}});export{oe as default};
