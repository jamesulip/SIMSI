import{Q as S}from"./QSpace.4fab7da7.js";import{Q as j,a as $}from"./QCardActions.ad8a9dd2.js";import{Q as N}from"./QInput.ab7662bb.js";import{Q as w}from"./QSelect.4dc8a061.js";import{Z as C,r as b,o as r,c as d,w as a,b as t,a as s,t as h,g,aN as Q,f as p,a4 as B,v,Q as I,_ as q,d as L,h as P,F as z,aq as A}from"./app.4a522239.js";import{Q as E,a as c}from"./QTable.7f1fb585.js";import{Q as F,e as T,b as M,c as U}from"./QLayout.b19ee09e.js";import{Q as D}from"./QPage.80c7eccb.js";import{_ as J}from"./AppLayout.vue_vue_type_script_setup_true_lang.033a3d93.js";import{u as R}from"./use-quasar.5c36a383.js";import"./focus-manager.5d096218.js";import"./use-key-composition.60849670.js";import"./uid.42677368.js";import"./format.8320855d.js";import"./QDialog.bff85a37.js";import"./use-prevent-scroll.f3d8452f.js";import"./focusout.ee40dee4.js";import"./QSeparator.91960911.js";import"./QCheckbox.d1138e3f.js";import"./use-fullscreen.9e88e041.js";import"./QImg.0fe3dd47.js";import"./touch.70a9dd44.js";const Z={class:"text-h6"},G={class:"flex justify-between w-full"},H=s("h3",{class:"text-h6"},"Applicants",-1),K=["onSubmit"],O={class:"flex q-gutter-sm"},W=["href"],X=["src"],ye=C({__name:"Show",props:{job:null,applicant_status:null,applicants:null},setup(i){var f,_;const{job:x,applicant_status:Y}=i;R();const k=b([{name:"first_name",label:"Name",field:"first_name",sortable:!0,align:"left"},{name:"last_name",label:"Last Name",field:"last_name",sortable:!0,align:"left"},{name:"email",label:"Email",field:"email",sortable:!0,align:"left"},{name:"phone",label:"Phone",field:"phone",sortable:!0,align:"left"},{name:"resume",label:"Resume",field:"resume",sortable:!0,align:"left"},{name:"status",label:"Status",field:"status",sortable:!0,align:"left"},{name:"view",label:"View",field:"view",sortable:!0,align:"left"}]),n=b({search:(f=route().params.search)!=null?f:"",applicant_status_id:(_=route().params.applicant_status_id)!=null?_:null});function y(o){return o==="application/pdf"?"/images/pdf.png":o==="application/msword"?"/images/doc.png":"/images/google-docs.png"}function V(){A.Inertia.get(`/admin/jobs/${x.id}`,n.value)}return(o,u)=>(r(),d(J,{title:"Jobs"},{default:a(()=>[t(D,{padding:"",class:"flex flex-col"},{default:a(()=>[t(j,{class:"mx-auto max-w-7xl w-full mb-5",flat:"",bordered:""},{default:a(()=>[t($,{class:"q-pa-md"},{default:a(()=>[s("div",Z,h(i.job.title),1),t(S),t(g(Q),{href:`/admin/jobs/${i.job.id}/edit`,unelevated:"",dense:"","text-color":"black",class:"border pa-2"},{default:a(()=>[p("Edit")]),_:1},8,["href"])]),_:1})]),_:1}),t(E,{class:"mx-auto max-w-7xl w-full",rows:i.applicants,columns:k.value,pagination:{rowsPerPage:50}},{top:a(()=>[s("div",G,[H,s("form",{method:"get",onSubmit:B(V,["prevent"])},[s("div",O,[t(N,{modelValue:n.value.search,"onUpdate:modelValue":u[0]||(u[0]=e=>n.value.search=e),outlined:"",name:"search",dense:"",placeholder:"Search by name, email, phone"},null,8,["modelValue"]),t(w,{dense:"",outlined:"",options:o.$props.applicant_status,"option-label":e=>e.name,name:"applicant_status_id",modelValue:n.value.applicant_status_id,"onUpdate:modelValue":u[1]||(u[1]=e=>n.value.applicant_status_id=e),"option-value":"id","emit-value":"","map-options":"",clearable:""},null,8,["options","option-label","modelValue"]),t(v,{unelevated:"",dense:"",type:"submit",color:"primary"},{default:a(()=>[p(" Search ")]),_:1})])],40,K)])]),"body-cell-resume":a(({row:e})=>[t(c,null,{default:a(()=>{var l;return[s("a",{href:(l=e==null?void 0:e.resume)==null?void 0:l.original_url,target:"_blank"},[e.resume?(r(),d(q,{key:1,square:"",size:"sm"},{default:a(()=>{var m;return[s("img",{src:y((m=e==null?void 0:e.resume)==null?void 0:m.mime_type)},null,8,X)]}),_:2},1024)):(r(),d(I,{key:0,name:"mdi-close-circle-outline",size:"sm",color:"red"}))],8,W)]}),_:2},1024)]),"body-cell-view":a(({row:e})=>[t(c,null,{default:a(()=>[t(g(Q),{href:`/admin/jobs/${e.jobs_id}/applicant/${e.id}`,unelevated:"",dense:"","text-color":"black",class:"border pa-2"},{default:a(()=>[p("View")]),_:2},1032,["href"])]),_:2},1024)]),"body-cell-status":a(({row:e})=>[t(c,null,{default:a(()=>[t(v,{unelevated:"",dense:"","text-color":"black",class:"border pa-2",color:e.applicant_status.color,label:e.applicant_status.name,size:"sm"},{default:a(()=>[t(F,null,{default:a(()=>[t(T,null,{default:a(()=>[(r(!0),L(z,null,P(i.applicant_status,(l,m)=>(r(),d(M,{disable:e.applicant_status.name===l.name||l.name==="New",key:m,clickable:"",onClick:ee=>o.$inertia.put(`/admin/applicant/${e.id}`,{applicant_status_id:l.id})},{default:a(()=>[t(U,null,{default:a(()=>[p(h(l.name),1)]),_:2},1024)]),_:2},1032,["disable","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["color","label"])]),_:2},1024)]),_:1},8,["rows","columns"])]),_:1})]),_:1}))}});export{ye as default};
