import{a as T,b as $,_ as C}from"./AppLayout.vue_vue_type_script_setup_true_lang.b45ff0c9.js";import{Q as L}from"./QSpace.d35235b0.js";import{a8 as M,r as y,v as V,o as i,c as u,w as l,b as t,aE as H,aH as E,a as o,f as n,x as g,O as N,aF as D,aG as I,t as c,e as m,d as Q,g as v,bp as A,F as B,h as J,a9 as x,Q as P}from"./app.b5166522.js";import{Q as F,b as k}from"./QSelect.f0eb4703.js";import{Q as Y}from"./QForm.9e275de7.js";import{Q as q,a as d}from"./QTable.e00b5b50.js";import{Q as z}from"./QImg.9bbcb33e.js";import{Q as U,e as G,b as f,c as p}from"./QLayout.edc35d24.js";import{Q as O}from"./QPage.31f35db4.js";import{d as K}from"./date.04761658.js";import"./format.1c434d9b.js";import"./touch.70a9dd44.js";import"./use-fullscreen.9bc7cd64.js";const R=o("div",null,[o("span",null," Here you can see all the jobs that are currently available. ")],-1),W={key:0,class:"leading-10"},X=["innerHTML"],Z={class:"text-ellipsis overflow-hidden max-w-md"},w=["innerHTML"],ee={class:"text-ellipsis overflow-hidden max-w-md"},le=["innerHTML"],te={key:0},ae={class:"flex items-center"},oe=o("label",{for:"",class:"text-subtitle2"}," Skills: ",-1),se={class:"flex items-center"},ie=o("label",{for:"",class:"text-subtitle2"}," Job Type: ",-1),ke=M({__name:"Index",props:{jobs:null,employers:null},setup(b){const{jobs:j,employers:ne}=b,_=y(route().params.search),h=y(route().params.employer_id),S=y([{name:"thumb",label:"Thumb",field:"thumb",sortable:!0,align:"left",format:a=>a?`<img src="${a}" width="50" />`:"Not Specified"},{name:"title",label:"Title",field:"title",sortable:!0,align:"left"},{label:"Employer",field:a=>{var s,e;return(e=(s=a==null?void 0:a.employer)==null?void 0:s.name)!=null?e:"Not Specified"},sortable:!0,align:"left"},{name:"created_at",label:"Date Created",field:"created_at",sortable:!0,align:"left",format:a=>a?`$${a}`:"Not Specified"},{name:"date_expires",label:"Posting Ends",field:"date_expires",sortable:!0,align:"left"},{name:"skills",label:"Skills",field:"skills",sortable:!0,align:"left"},{name:"applicant",label:"Applicants",field:"applicant",sortable:!0,align:"left"},{name:"actions",label:"Actions",field:"actions",sortable:!0,align:"left"}]);return V(()=>{j.forEach(a=>{a.description=a.description.replace(/(<([^>]+)>)/gi,"")})}),(a,s)=>(i(),u(C,{title:"Jobs"},{default:l(()=>[t(O,{padding:""},{default:l(()=>[t(Y,{class:"max-w-7xl",onSubmit:s[3]||(s[3]=e=>a.$inertia.get("/admin/jobs",{search:_.value,employer_id:h.value}))},{default:l(()=>[t(H,{flat:"",bordered:"",class:"mb-5"},{default:l(()=>[t(E,{class:"q-pa-md"},{default:l(()=>[t(T,null,{default:l(()=>[o("div",null,[t($,null,{default:l(()=>[n("Job List")]),_:1}),R]),t(L),t(g,{onClick:s[0]||(s[0]=e=>a.$inertia.get("/admin/jobs/create")),unelevated:"",icon:"mdi-plus",label:"Post Job",color:"green"})]),_:1})]),_:1}),t(N),t(D,{class:"flex gap-3"},{default:l(()=>[t(I,{clearable:"",modelValue:_.value,"onUpdate:modelValue":s[1]||(s[1]=e=>_.value=e),outlined:"",dense:"",placeholder:"Search"},null,8,["modelValue"]),t(F,{options:b.employers,"emit-value":"","map-options":"","option-label":"name","option-value":"id",clearable:"",modelValue:h.value,"onUpdate:modelValue":s[2]||(s[2]=e=>h.value=e),dense:"",outlined:"",placeholder:"Employer"},null,8,["options","modelValue"]),t(g,{unelevated:"",icon:"mdi-magnify",label:"Search",type:"submit",color:"green"})]),_:1})]),_:1})]),_:1}),t(q,{separator:"cell",flat:"",bordered:"",rows:b.jobs,columns:S.value,"row-key":"id","rows-per-page-options":[20,50,80,100]},{"body-cell-job_type":l(({row:e})=>[t(d,null,{default:l(()=>[e.job_type?(i(),u(k,{key:0,color:"green","text-color":"white"},{default:l(()=>[n(c(e.job_type.name),1)]),_:2},1024)):m("",!0)]),_:2},1024)]),"body-cell-created_at":l(({row:e})=>[t(d,null,{default:l(()=>[e.date_posted?(i(),Q("div",W,c(v(K).formatDate(e.created_at,"DD/MM/YYYY")),1)):m("",!0)]),_:2},1024)]),"body-cell-skills":l(({row:e})=>[t(d)]),"body-cell-title":l(({row:e})=>[t(d,null,{default:l(()=>[t(v(A),{href:`/admin/jobs/${e.id}`},{default:l(()=>[o("div",{class:"text-bold text-h6",innerHTML:e.title},null,8,X),o("div",Z,[o("span",{innerHTML:e.description},null,8,w)]),o("div",ee,[o("span",{innerHTML:e.location},null,8,le)]),e.skills?(i(),Q("span",te,[o("div",ae,[oe,(i(!0),Q(B,null,J(e.skills,r=>(i(),u(k,{key:r.id,color:"green","text-color":"white"},{default:l(()=>[n(c(r),1)]),_:2},1024))),128))])])):m("",!0),o("div",se,[ie,e.job_type?(i(),u(k,{key:0,color:"green","text-color":"white"},{default:l(()=>[n(c(e.job_type.name),1)]),_:2},1024)):m("",!0)])]),_:2},1032,["href"])]),_:2},1024)]),"body-cell-thumb":l(({row:e})=>[t(d,{"auto-width":""},{default:l(()=>[e!=null&&e.media[0]?(i(),u(x,{key:0,square:"",size:"120px"},{default:l(()=>{var r;return[t(z,{src:(r=e==null?void 0:e.media[0])==null?void 0:r.original_url,alt:"alt"},null,8,["src"])]}),_:2},1024)):(i(),u(x,{key:1,square:"",size:"120px"},{default:l(()=>[t(P,{name:"mdi-image-off"})]),_:1}))]),_:2},1024)]),"body-cell-applicant":l(({row:e})=>[t(d,{"auto-width":""},{default:l(()=>[n(c(e.applicant.length),1)]),_:2},1024)]),"body-cell-actions":l(({row:e})=>[t(d,null,{default:l(()=>[t(g,{flat:"",icon:"mdi-dots-vertical",color:"green"},{default:l(()=>[t(U,null,{default:l(()=>[t(G,null,{default:l(()=>[t(f,{clickable:"",target:"_blank",href:`/job/${e.uuid}`},{default:l(()=>[t(p,null,{default:l(()=>[n("Preview Job Post")]),_:1})]),_:2},1032,["href"]),t(f,{clickable:"",href:`/admin/jobs/${e.id}`},{default:l(()=>[t(p,null,{default:l(()=>[n("Show Applicants")]),_:1})]),_:2},1032,["href"]),t(f,{clickable:"",href:`/admin/jobs/${e.id}/edit`},{default:l(()=>[t(p,null,{default:l(()=>[n("Edit")]),_:1})]),_:2},1032,["href"]),t(f,{clickable:"",onClick:r=>a.$inertia.delete(`/admin/jobs/${e.id}`)},{default:l(()=>[t(p,null,{default:l(()=>[n("Delete")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["rows","columns"])]),_:1})]),_:1}))}});export{ke as default};
