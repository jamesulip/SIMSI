import{Q}from"./QInput.306e92cf.js";import{Q as J}from"./QSelect.fb6ff34d.js";import{a2 as L,j as B,r as x,o as i,c as C,w as h,a as t,b as r,g as d,v as N,d as n,h as U,F as j,e as g,aq as S,t as c,f as v}from"./app.3fe44b88.js";import{Q as T}from"./QForm.0638df90.js";import{_ as $}from"./Guest.vue_vue_type_script_setup_true_lang.32c07131.js";import{u as D}from"./index.180ee16e.js";import"./use-key-composition.4ee5e5f6.js";import"./focus-manager.70515060.js";import"./uid.42677368.js";import"./QChip.a46b1e39.js";import"./QList.4a38d56b.js";import"./focusout.754fc6d8.js";import"./QItemLabel.7e27f459.js";import"./QDialog.38827b05.js";import"./use-prevent-scroll.b164406c.js";import"./format.2bc25e5f.js";const H={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},q={class:"px-4 py-6 sm:px-0"},E={class:"border-gray-200 rounded-lg"},I={class:"sm:grid grid-cols-4 gap-2 mx-auto max-w-3xl"},M={class:"flex-0 mb-3"},R={class:"col-span-3 gap-3 grid"},O={key:0,class:"flex-shrink-0"},P=["src"],z={class:"flex flex-1 flex-col justify-between bg-white p-3"},A={class:"flex-1"},G=["href"],K={class:"text-xl font-semibold text-gray-900"},W=["innerHTML"],X={class:"mt-6 flex items-center"},Y={class:"ml-3"},Z={class:"flex space-x-1 text-sm text-gray-500"},ee={class:"font-semibold"},te={class:"flex space-x-1 text-sm text-gray-500"},oe={class:"font-semibold"},se={key:0,class:"flex flex-col border overflow-hidden rounded-lg shadow-lg border-gray-200"},ae=t("div",{class:"flex flex-1 flex-col justify-between bg-white p-6"},[t("div",{class:"flex-1"},[t("p",{class:"text-xl font-semibold text-gray-900"},"No Result")])],-1),le=[ae],we=L({__name:"Jobs",props:{jobs:null},setup(b){var f,_;const{jobs:y}=b,m=B(()=>y.map(s=>{var o;return{title:s.title,href:`/job/${s.uuid}`,category:{name:"Job Hiring",href:`/job/${s.uuid}`},description:s.description.replace(/(<([^>]+)>)/gi,"").substring(0,250)+"...",date:s.date_posted,datetime:s.date_expires,imageUrl:(o=s.media[0])==null?void 0:o.original_url}})),{data:u,isFetching:w}=D("https://restcountries.com/v3.1/all?fields=name").json(),p=x(u.value);function V(s,o,e){o(()=>{const a=s.toLowerCase();p.value=u.value.filter(F=>F.name.common.toLowerCase().indexOf(a)>-1)})}const l=x({search:(f=route().params.search)!=null?f:"",location:(_=route().params.location)!=null?_:""});function k(){S.Inertia.get("/jobs",l.value)}return(s,o)=>(i(),C($,null,{default:h(()=>[t("div",H,[t("div",q,[t("div",E,[t("div",I,[t("div",M,[r(T,{onSubmit:o[2]||(o[2]=e=>k()),class:"q-gutter-md"},{default:h(()=>[r(Q,{modelValue:l.value.search,"onUpdate:modelValue":o[0]||(o[0]=e=>l.value.search=e),outlined:"",dense:"",label:"Job Title",name:"search",clearable:""},null,8,["modelValue"]),r(J,{"use-input":"",options:p.value,onFilter:V,modelValue:l.value.location,"onUpdate:modelValue":o[1]||(o[1]=e=>l.value.location=e),outlined:"",label:"Location",loading:d(w),"option-label":e=>{var a;return(a=e==null?void 0:e.name)==null?void 0:a.common},"map-options":"","emit-value":"","option-value":e=>{var a;return(a=e==null?void 0:e.name)==null?void 0:a.common}},null,8,["options","modelValue","loading","option-label","option-value"]),r(N,{icon:"search",type:"submit",color:"primary",label:"Search"})]),_:1})]),t("div",R,[(i(!0),n(j,null,U(d(m),e=>(i(),n("div",{key:e.title,class:"flex flex-col border overflow-hidden rounded-lg shadow-lg border-gray-200"},[e.imageUrl?(i(),n("div",O,[t("img",{class:"h-48 w-full object-cover",src:e.imageUrl,alt:""},null,8,P)])):g("",!0),t("div",z,[t("div",A,[t("a",{href:e.href,class:"mt-2 block"},[t("p",K,c(e.title),1),t("p",{class:"mt-3 text-base text-gray-500",innerHTML:e.description},null,8,W)],8,G)]),t("div",X,[t("div",Y,[t("div",Z,[v(" Date Posted: "),t("time",ee,c(e.date),1)]),t("div",te,[v(" Date Expires: "),t("time",oe,c(e.datetime),1)])])])])]))),128)),d(m).length==0?(i(),n("div",se,le)):g("",!0)])])])])])]),_:1}))}});export{we as default};
