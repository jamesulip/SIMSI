import{Q as S}from"./QSpace.d35235b0.js";import{a8 as j,r as b,o as u,c as m,w as a,b as l,aE as $,aH as w,a as s,t as h,g,bp as Q,f as c,ag as C,aG as I,x as v,Q as N,a9 as B,d as E,h as L,F as P,aI as q}from"./app.b5166522.js";import{Q as z}from"./QSelect.f0eb4703.js";import{Q as A,a as p}from"./QTable.e00b5b50.js";import{Q as F,e as T,b as M,c as U}from"./QLayout.edc35d24.js";import{Q as D}from"./QPage.31f35db4.js";import{_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang.b45ff0c9.js";import{u as H}from"./use-quasar.e749b80d.js";import"./format.1c434d9b.js";import"./use-fullscreen.9bc7cd64.js";import"./QImg.9bbcb33e.js";import"./touch.70a9dd44.js";const J={class:"text-h6"},R={class:"flex justify-between w-full"},K=s("h3",{class:"text-h6"},"Applicants",-1),O=["onSubmit"],W={class:"flex q-gutter-sm"},X=["href"],Y=["src"],pe=j({__name:"Show",props:{job:null,applicant_status:null,applicants:null},setup(n){var f,_;const{job:x,applicant_status:Z}=n;H();const k=b([{name:"first_name",label:"Name",field:"first_name",sortable:!0,align:"left"},{name:"last_name",label:"Last Name",field:"last_name",sortable:!0,align:"left"},{name:"email",label:"Email",field:"email",sortable:!0,align:"left"},{name:"phone",label:"Phone",field:"phone",sortable:!0,align:"left"},{name:"resume",label:"Resume",field:"resume",sortable:!0,align:"left"},{name:"status",label:"Status",field:"status",sortable:!0,align:"left"},{name:"view",label:"View",field:"view",sortable:!0,align:"left"}]),i=b({search:(f=route().params.search)!=null?f:"",applicant_status_id:(_=route().params.applicant_status_id)!=null?_:null});function y(o){return o==="application/pdf"?"/images/pdf.png":o==="application/msword"?"/images/doc.png":"/images/google-docs.png"}function V(){q.Inertia.get(`/admin/jobs/${x.id}`,i.value)}return(o,r)=>(u(),m(G,{title:"Jobs"},{default:a(()=>[l(D,{padding:"",class:"flex flex-col"},{default:a(()=>[l($,{class:"mx-auto max-w-7xl w-full mb-5",flat:"",bordered:""},{default:a(()=>[l(w,{class:"q-pa-md"},{default:a(()=>[s("div",J,h(n.job.title),1),l(S),l(g(Q),{href:`/admin/jobs/${n.job.id}/edit`,unelevated:"",dense:"","text-color":"black",class:"border pa-2"},{default:a(()=>[c("Edit")]),_:1},8,["href"])]),_:1})]),_:1}),l(A,{class:"mx-auto max-w-7xl w-full",rows:n.applicants,columns:k.value,pagination:{rowsPerPage:50}},{top:a(()=>[s("div",R,[K,s("form",{method:"get",onSubmit:C(V,["prevent"])},[s("div",W,[l(I,{modelValue:i.value.search,"onUpdate:modelValue":r[0]||(r[0]=e=>i.value.search=e),outlined:"",name:"search",dense:"",placeholder:"Search by name, email, phone"},null,8,["modelValue"]),l(z,{dense:"",outlined:"",options:o.$props.applicant_status,"option-label":e=>e.name,name:"applicant_status_id",modelValue:i.value.applicant_status_id,"onUpdate:modelValue":r[1]||(r[1]=e=>i.value.applicant_status_id=e),"option-value":"id","emit-value":"","map-options":"",clearable:""},null,8,["options","option-label","modelValue"]),l(v,{unelevated:"",dense:"",type:"submit",color:"primary"},{default:a(()=>[c(" Search ")]),_:1})])],40,O)])]),"body-cell-resume":a(({row:e})=>[l(p,null,{default:a(()=>{var t;return[s("a",{href:(t=e==null?void 0:e.resume)==null?void 0:t.original_url,target:"_blank"},[e.resume?(u(),m(B,{key:1,square:"",size:"sm"},{default:a(()=>{var d;return[s("img",{src:y((d=e==null?void 0:e.resume)==null?void 0:d.mime_type)},null,8,Y)]}),_:2},1024)):(u(),m(N,{key:0,name:"mdi-close-circle-outline",size:"sm",color:"red"}))],8,X)]}),_:2},1024)]),"body-cell-view":a(({row:e})=>[l(p,null,{default:a(()=>[l(g(Q),{href:`/admin/jobs/${e.jobs_id}/applicant/${e.id}`,unelevated:"",dense:"","text-color":"black",class:"border pa-2"},{default:a(()=>[c("View")]),_:2},1032,["href"])]),_:2},1024)]),"body-cell-status":a(({row:e})=>[l(p,null,{default:a(()=>[l(v,{unelevated:"",dense:"","text-color":"black",class:"border pa-2",color:e.applicant_status.color,label:e.applicant_status.name,size:"sm"},{default:a(()=>[l(F,null,{default:a(()=>[l(T,null,{default:a(()=>[(u(!0),E(P,null,L(n.applicant_status,(t,d)=>(u(),m(M,{disable:e.applicant_status.name===t.name||t.name==="New",key:d,clickable:"",onClick:ee=>o.$inertia.put(`/admin/applicant/${e.id}`,{applicant_status_id:t.id})},{default:a(()=>[l(U,null,{default:a(()=>[c(h(t.name),1)]),_:2},1024)]),_:2},1032,["disable","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["color","label"])]),_:2},1024)]),_:1},8,["rows","columns"])]),_:1})]),_:1}))}});export{pe as default};
