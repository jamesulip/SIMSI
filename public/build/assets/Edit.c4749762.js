import{a8 as h,r as i,o as r,c as d,w as n,b as a,a as b,ag as S,aE as I,aF as V,O as k,a9 as A,Q as N,aV as _,aG as u,g as w,e as $,aH as q,x as B,aI as L}from"./app.5a0fdf99.js";import{Q as C}from"./QImg.2f6bac1b.js";import{Q as D}from"./QFile.ab7f5ba1.js";import{Q as O}from"./QSelect.07e642b6.js";import{Q as P}from"./QSpace.e334e787.js";import{Q as R}from"./QForm.0c9a5b68.js";import{Q as W}from"./QPage.a1c34efb.js";import{_ as j}from"./AppLayout.vue_vue_type_script_setup_true_lang.9edf8939.js";import{u as z}from"./index.f494cd97.js";import"./format.f0cda7bf.js";import"./QLayout.f078c89a.js";import"./touch.70a9dd44.js";const G={class:"max-w-3xl"},H=b("div",{class:"text-h6"},"Employer Details",-1),M={class:"flex gap-3 w-full"},se=h({__name:"Edit",props:{employer:null},setup(v){const{employer:m}=v,t=i(m!=null?m:{name:"",country:"",address:"",description:"",email:"",phone:"",avatar:"",website:"",logo:null}),{data:y,isFetching:g}=z("https://restcountries.com/v3.1/all?fields=name").json(),x=i(y.value);function F(f,l,e){l(()=>{const o=f.toLowerCase();x.value=y.value.filter(s=>s.name.common.toLowerCase().indexOf(o)>-1)})}const Q=i(null);function U(){!Q.value.validate()||L.Inertia.post(`/admin/employers/${m.id}/update`,t.value)}const p=i(null),c=i(null);function E(f){const l=f.target.files[0],e=new FileReader;e.readAsDataURL(l),e.onload=()=>{c.value=e.result}}return(f,l)=>(r(),d(j,null,{default:n(()=>[a(W,{padding:""},{default:n(()=>[b("div",G,[a(R,{ref_key:"f",ref:Q,onSubmit:S(U,["prevent"])},{default:n(()=>[a(I,{flat:"",bordered:""},{default:n(()=>[a(V,null,{default:n(()=>[H]),_:1}),a(k),a(V,{class:"flex"},{default:n(()=>{var e,o;return[c.value?(r(),d(C,{key:0,src:c.value,onClick:l[0]||(l[0]=s=>p.value.pickFiles()),class:"max-w-xs m-auto"},null,8,["src"])):(e=v.employer.first_media)!=null&&e.original_url?(r(),d(C,{key:1,src:(o=v.employer.first_media)==null?void 0:o.original_url,onClick:l[1]||(l[1]=s=>p.value.pickFiles()),class:"max-w-xs m-auto"},null,8,["src"])):(r(),d(A,{key:2,border:"",size:"100px",class:"mx-auto",onClick:l[2]||(l[2]=s=>p.value.pickFiles())},{default:n(()=>[a(N,{name:"account_circle"})]),_:1})),a(D,{accept:"image/*",ref_key:"uploader",ref:p,modelValue:t.value.logo,"onUpdate:modelValue":l[3]||(l[3]=s=>t.value.logo=s),class:"q-ml-md hidden",onInput:E},null,8,["modelValue"])]}),_:1}),a(k),a(V,{class:"q-gutter-md"},{default:n(()=>[a(_,{modelValue:t.value.is_highlighted,"onUpdate:modelValue":l[4]||(l[4]=e=>t.value.is_highlighted=e),label:"Active","true-value":1,"false-value":0},null,8,["modelValue"]),a(u,{modelValue:t.value.name,"onUpdate:modelValue":l[5]||(l[5]=e=>t.value.name=e),label:"Name",dense:"",outlined:"",type:"text",hint:"Enter employer name","stack-label":"",rules:[e=>e.length>0||"Name is required"]},null,8,["modelValue","rules"]),w(g)?$("",!0):(r(),d(O,{key:0,"use-input":"",options:x.value,onFilter:F,modelValue:t.value.country,"onUpdate:modelValue":l[6]||(l[6]=e=>t.value.country=e),dense:"",outlined:"",label:"Location",loading:w(g),"option-label":e=>{var o;return(o=e==null?void 0:e.name)==null?void 0:o.common},"map-options":"","emit-value":"","option-value":e=>{var o;return(o=e==null?void 0:e.name)==null?void 0:o.common}},null,8,["options","modelValue","loading","option-label","option-value"])),a(u,{modelValue:t.value.address,"onUpdate:modelValue":l[7]||(l[7]=e=>t.value.address=e),label:"Address",dense:"",outlined:"",type:"text",hint:"Enter employer address","stack-label":""},null,8,["modelValue"]),a(u,{modelValue:t.value.description,"onUpdate:modelValue":l[8]||(l[8]=e=>t.value.description=e),label:"Company Description",dense:"",outlined:"",type:"textarea",hint:"Enter employer description","stack-label":""},null,8,["modelValue"]),b("div",M,[a(u,{modelValue:t.value.email,"onUpdate:modelValue":l[9]||(l[9]=e=>t.value.email=e),label:"Email",type:"email",dense:"",class:"flex-1",outlined:"",hint:"Enter employer email","stack-label":""},null,8,["modelValue"]),a(u,{modelValue:t.value.phone,"onUpdate:modelValue":l[10]||(l[10]=e=>t.value.phone=e),label:"Phone",dense:"",class:"flex-1",outlined:"",type:"text",hint:"Enter employer phone","stack-label":""},null,8,["modelValue"])]),a(u,{modelValue:t.value.website,"onUpdate:modelValue":l[11]||(l[11]=e=>t.value.website=e),label:"Website",dense:"",outlined:"",type:"text",hint:"Enter employer website","stack-label":"",rules:[e=>e.length>0||"Website is required"]},null,8,["modelValue","rules"])]),_:1}),a(q,null,{default:n(()=>[a(P),a(B,{type:"submit",color:"primary",label:"Update"})]),_:1})]),_:1})]),_:1},8,["onSubmit"])])]),_:1})]),_:1}))}});export{se as default};
