import{Q as S}from"./QSpace.185978bc.js";import{Q as j}from"./QCardActions.a88db726.js";import{Q as $}from"./QCard.cf94f3e9.js";import{Q as N}from"./QInput.e3db977c.js";import{Q as w}from"./QSelect.353a3914.js";import{a2 as C,r as b,o as r,c as d,w as a,b as t,a as s,t as h,g,aN as Q,f as p,a8 as B,v,Q as I,a3 as q,d as L,h as P,F as z,aq as A}from"./app.f1084ffb.js";import{Q as E,a as c}from"./QTable.4eff6fff.js";import{d as F,Q as T,a as M}from"./QList.bb1baa1b.js";import{Q as U}from"./QItemLabel.f11ab903.js";import{Q as D}from"./QPage.04eafd60.js";import{_ as J}from"./AppLayout.vue_vue_type_script_setup_true_lang.1b920fc8.js";import{u as R}from"./use-quasar.011536d1.js";import"./QSeparator.8770f7d8.js";import"./use-key-composition.8fc56b08.js";import"./uid.42677368.js";import"./QChip.868a36e2.js";import"./QDialog.801f8352.js";import"./use-prevent-scroll.38107ebb.js";import"./format.2bc25e5f.js";import"./QCheckbox.b69ee365.js";import"./use-fullscreen.39aad1ff.js";import"./selection.f820d120.js";import"./QImg.79656d9d.js";import"./touch.70a9dd44.js";const G={class:"text-h6"},H={class:"flex justify-between w-full"},K=s("h3",{class:"text-h6"},"Applicants",-1),O=["onSubmit"],W={class:"flex q-gutter-sm"},X=["href"],Y=["src"],Se=C({__name:"Show",props:{job:null,applicant_status:null,applicants:null},setup(i){var f,_;const{job:x,applicant_status:Z}=i;R();const k=b([{name:"first_name",label:"Name",field:"first_name",sortable:!0,align:"left"},{name:"last_name",label:"Last Name",field:"last_name",sortable:!0,align:"left"},{name:"email",label:"Email",field:"email",sortable:!0,align:"left"},{name:"phone",label:"Phone",field:"phone",sortable:!0,align:"left"},{name:"resume",label:"Resume",field:"resume",sortable:!0,align:"left"},{name:"status",label:"Status",field:"status",sortable:!0,align:"left"},{name:"view",label:"View",field:"view",sortable:!0,align:"left"}]),o=b({search:(f=route().params.search)!=null?f:"",applicant_status_id:(_=route().params.applicant_status_id)!=null?_:null});function y(n){return n==="application/pdf"?"/images/pdf.png":n==="application/msword"?"/images/doc.png":"/images/google-docs.png"}function V(){A.Inertia.get(`/admin/jobs/${x.id}`,o.value)}return(n,m)=>(r(),d(J,{title:"Jobs"},{default:a(()=>[t(D,{padding:"",class:"flex flex-col"},{default:a(()=>[t($,{class:"mx-auto max-w-7xl w-full mb-5",flat:"",bordered:""},{default:a(()=>[t(j,{class:"q-pa-md"},{default:a(()=>[s("div",G,h(i.job.title),1),t(S),t(g(Q),{href:`/admin/jobs/${i.job.id}/edit`,unelevated:"",dense:"","text-color":"black",class:"border pa-2"},{default:a(()=>[p("Edit")]),_:1},8,["href"])]),_:1})]),_:1}),t(E,{class:"mx-auto max-w-7xl w-full",rows:i.applicants,columns:k.value,pagination:{rowsPerPage:50}},{top:a(()=>[s("div",H,[K,s("form",{method:"get",onSubmit:B(V,["prevent"])},[s("div",W,[t(N,{modelValue:o.value.search,"onUpdate:modelValue":m[0]||(m[0]=e=>o.value.search=e),outlined:"",name:"search",dense:"",placeholder:"Search by name, email, phone"},null,8,["modelValue"]),t(w,{dense:"",outlined:"",options:n.$props.applicant_status,"option-label":e=>e.name,name:"applicant_status_id",modelValue:o.value.applicant_status_id,"onUpdate:modelValue":m[1]||(m[1]=e=>o.value.applicant_status_id=e),"option-value":"id","emit-value":"","map-options":"",clearable:""},null,8,["options","option-label","modelValue"]),t(v,{unelevated:"",dense:"",type:"submit",color:"primary"},{default:a(()=>[p(" Search ")]),_:1})])],40,O)])]),"body-cell-resume":a(({row:e})=>[t(c,null,{default:a(()=>{var l;return[s("a",{href:(l=e==null?void 0:e.resume)==null?void 0:l.original_url,target:"_blank"},[e.resume?(r(),d(q,{key:1,square:"",size:"sm"},{default:a(()=>{var u;return[s("img",{src:y((u=e==null?void 0:e.resume)==null?void 0:u.mime_type)},null,8,Y)]}),_:2},1024)):(r(),d(I,{key:0,name:"mdi-close-circle-outline",size:"sm",color:"red"}))],8,X)]}),_:2},1024)]),"body-cell-view":a(({row:e})=>[t(c,null,{default:a(()=>[t(g(Q),{href:`/admin/jobs/${e.jobs_id}/applicant/${e.id}`,unelevated:"",dense:"","text-color":"black",class:"border pa-2"},{default:a(()=>[p("View")]),_:2},1032,["href"])]),_:2},1024)]),"body-cell-status":a(({row:e})=>[t(c,null,{default:a(()=>[t(v,{unelevated:"",dense:"","text-color":"black",class:"border pa-2",color:e.applicant_status.color,label:e.applicant_status.name,size:"sm"},{default:a(()=>[t(U,null,{default:a(()=>[t(F,null,{default:a(()=>[(r(!0),L(z,null,P(i.applicant_status,(l,u)=>(r(),d(T,{disable:e.applicant_status.name===l.name||l.name==="New",key:u,clickable:"",onClick:ee=>n.$inertia.put(`/admin/applicant/${e.id}`,{applicant_status_id:l.id})},{default:a(()=>[t(M,null,{default:a(()=>[p(h(l.name),1)]),_:2},1024)]),_:2},1032,["disable","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["color","label"])]),_:2},1024)]),_:1},8,["rows","columns"])]),_:1})]),_:1}))}});export{Se as default};
