import{a as n,Q as c}from"./QCard.f1adcadf.js";import{Q as u}from"./QSeparator.d5e3bb91.js";import{Q as d}from"./QInput.91675808.js";import{Q as f}from"./QSpace.eeb74afc.js";import{r as p,u as _,o as g,c as Q,w as t,b as s,a as l,g as o,I as V,f as v}from"./app.6a27b261.js";import{Q as B}from"./QCardActions.81fa3abf.js";import{Q as P}from"./QForm.26bbb9b7.js";import"./use-dark.1360d7bf.js";import"./use-key-composition.d3512047.js";import"./uid.af08f49d.js";const x=l("div",{class:"text-h6"}," Update Password",-1),C=l("div",{class:"text-subtitle2"}," Ensure your account is using a long, random password to stay secure. ",-1),b={class:"q-gutter-md w-full"},j={__name:"UpdatePasswordForm",setup(y){const m=p(null),i=p(null),r=_({current_password:"",password:"",password_confirmation:""}),w=()=>{r.put(route("user-password.update"),{errorBag:"updatePassword",preserveScroll:!0,onSuccess:()=>r.reset(),onError:()=>{r.errors.password&&(r.reset("password","password_confirmation"),m.value.focus()),r.errors.current_password&&(r.reset("current_password"),i.value.focus())}})};return(S,e)=>(g(),Q(P,{class:"mx-auto"},{default:t(()=>[s(c,{flat:"",bordered:""},{default:t(()=>[s(n,null,{default:t(()=>[x,C]),_:1}),s(u),s(n,null,{default:t(()=>[l("div",b,[s(d,{type:"password",error:Boolean(o(r).errors.current_password),"error-message":o(r).errors.current_password,modelValue:o(r).current_password,"onUpdate:modelValue":e[0]||(e[0]=a=>o(r).current_password=a),outlined:"",label:"Current Password"},null,8,["error","error-message","modelValue"]),s(d,{type:"password",error:Boolean(o(r).errors.password),"error-message":o(r).errors.password,modelValue:o(r).password,"onUpdate:modelValue":e[1]||(e[1]=a=>o(r).password=a),outlined:"",label:"New Password"},null,8,["error","error-message","modelValue"]),s(d,{type:"password",error:Boolean(o(r).errors.password_confirmation),"error-message":o(r).errors.password_confirmation,modelValue:o(r).password_confirmation,"onUpdate:modelValue":e[2]||(e[2]=a=>o(r).password_confirmation=a),outlined:"",label:"Confirm Password"},null,8,["error","error-message","modelValue"])])]),_:1}),s(u),s(B,null,{default:t(()=>[s(f),s(V,{unelevated:"",color:"primary",onClick:e[3]||(e[3]=a=>w()),loading:o(r).processing,icon:"save"},{default:t(()=>[v("Save")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}))}};export{j as default};
