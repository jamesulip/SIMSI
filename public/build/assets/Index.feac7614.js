import{d as T,e as $,Q as C,f as L,a as c,b as p}from"./QList.680c6294.js";import{Q as M}from"./QSpace.0e56d929.js";import{a2 as V,r as y,s as H,o as s,c as m,w as l,b as t,a as o,f as n,v as Q,t as u,e as f,d as g,g as v,aN as N,F as D,h as E,a3 as x,Q as I}from"./app.5537cded.js";import{Q as A,a as B}from"./QCard.0dd6e118.js";import{Q as J}from"./QSeparator.76d3a03b.js";import{Q as P}from"./QInput.6a771f70.js";import{Q as Y}from"./QSelect.a7ccb79e.js";import{Q as q}from"./QCardSection.16cad2ce.js";import{Q as F}from"./QForm.109d485f.js";import{Q as k}from"./QChip.b89302f7.js";import{Q as z,a as r}from"./QTable.2a65d3ec.js";import{Q as U}from"./QImg.7832a2e8.js";import{Q as G}from"./QPage.8a45850e.js";import{_ as K}from"./AppLayout.vue_vue_type_script_setup_true_lang.9decce2b.js";import{d as O}from"./date.c732528b.js";import"./focusout.8febd6d7.js";import"./focus-manager.c162f84c.js";import"./use-key-composition.f26dbfe8.js";import"./uid.3b368bd0.js";import"./QItemLabel.651ae715.js";import"./QDialog.1b717610.js";import"./use-prevent-scroll.1f2f953d.js";import"./format.1bf312ea.js";import"./QCheckbox.76d86bb4.js";import"./use-fullscreen.9d8897a5.js";import"./touch.f1d6b462.js";const R=o("div",null,[o("span",null," Here you can see all the jobs that are currently available. ")],-1),W={key:0,class:"leading-10"},X=["innerHTML"],Z={class:"text-ellipsis overflow-hidden max-w-md"},w=["innerHTML"],ee={class:"text-ellipsis overflow-hidden max-w-md"},le=["innerHTML"],te={key:0},ae={class:"flex items-center"},oe=o("label",{for:"",class:"text-subtitle2"}," Skills: ",-1),ie={class:"flex items-center"},se=o("label",{for:"",class:"text-subtitle2"}," Job Type: ",-1),De=V({__name:"Index",props:{jobs:null,employers:null},setup(b){const{jobs:j,employers:ne}=b,_=y(route().params.search),h=y(route().params.employer_id),S=y([{name:"thumb",label:"Thumb",field:"thumb",sortable:!0,align:"left",format:a=>a?`<img src="${a}" width="50" />`:"Not Specified"},{name:"title",label:"Title",field:"title",sortable:!0,align:"left"},{label:"Employer",field:a=>{var i,e;return(e=(i=a==null?void 0:a.employer)==null?void 0:i.name)!=null?e:"Not Specified"},sortable:!0,align:"left"},{name:"created_at",label:"Date Created",field:"created_at",sortable:!0,align:"left",format:a=>a?`$${a}`:"Not Specified"},{name:"date_expires",label:"Posting Ends",field:"date_expires",sortable:!0,align:"left"},{name:"skills",label:"Skills",field:"skills",sortable:!0,align:"left"},{name:"applicant",label:"Applicants",field:"applicant",sortable:!0,align:"left"},{name:"actions",label:"Actions",field:"actions",sortable:!0,align:"left"}]);return H(()=>{j.forEach(a=>{a.description=a.description.replace(/(<([^>]+)>)/gi,"")})}),(a,i)=>(s(),m(K,{title:"Jobs"},{default:l(()=>[t(G,{padding:""},{default:l(()=>[t(F,{onSubmit:i[3]||(i[3]=e=>a.$inertia.get("/admin/jobs",{search:_.value,employer_id:h.value}))},{default:l(()=>[t(A,{flat:"",bordered:"",class:"mb-5"},{default:l(()=>[t(B,{class:"q-pa-md"},{default:l(()=>[t(T,null,{default:l(()=>[o("div",null,[t($,null,{default:l(()=>[n("Job List")]),_:1}),R]),t(M),t(Q,{onClick:i[0]||(i[0]=e=>a.$inertia.get("/admin/jobs/create")),unelevated:"",icon:"mdi-plus",label:"Post Job",color:"green"})]),_:1})]),_:1}),t(J),t(q,{class:"flex gap-3"},{default:l(()=>[t(P,{clearable:"",modelValue:_.value,"onUpdate:modelValue":i[1]||(i[1]=e=>_.value=e),outlined:"",dense:"",placeholder:"Search"},null,8,["modelValue"]),t(Y,{options:b.employers,"emit-value":"","map-options":"","option-label":"name","option-value":"id",clearable:"",modelValue:h.value,"onUpdate:modelValue":i[2]||(i[2]=e=>h.value=e),dense:"",outlined:"",placeholder:"Employer"},null,8,["options","modelValue"]),t(Q,{unelevated:"",icon:"mdi-magnify",label:"Search",type:"submit",color:"green"})]),_:1})]),_:1})]),_:1}),t(z,{separator:"cell",flat:"",bordered:"",rows:b.jobs,columns:S.value,"row-key":"id","rows-per-page-options":[20,50,80,100]},{"body-cell-job_type":l(({row:e})=>[t(r,null,{default:l(()=>[e.job_type?(s(),m(k,{key:0,color:"green","text-color":"white"},{default:l(()=>[n(u(e.job_type.name),1)]),_:2},1024)):f("",!0)]),_:2},1024)]),"body-cell-created_at":l(({row:e})=>[t(r,null,{default:l(()=>[e.date_posted?(s(),g("div",W,u(v(O).formatDate(e.created_at,"DD/MM/YYYY")),1)):f("",!0)]),_:2},1024)]),"body-cell-skills":l(({row:e})=>[t(r)]),"body-cell-title":l(({row:e})=>[t(r,null,{default:l(()=>[t(v(N),{href:`/admin/jobs/${e.id}`},{default:l(()=>[o("div",{class:"text-bold text-h6",innerHTML:e.title},null,8,X),o("div",Z,[o("span",{innerHTML:e.description},null,8,w)]),o("div",ee,[o("span",{innerHTML:e.location},null,8,le)]),e.skills?(s(),g("span",te,[o("div",ae,[oe,(s(!0),g(D,null,E(e.skills,d=>(s(),m(k,{key:d.id,color:"green","text-color":"white"},{default:l(()=>[n(u(d),1)]),_:2},1024))),128))])])):f("",!0),o("div",ie,[se,e.job_type?(s(),m(k,{key:0,color:"green","text-color":"white"},{default:l(()=>[n(u(e.job_type.name),1)]),_:2},1024)):f("",!0)])]),_:2},1032,["href"])]),_:2},1024)]),"body-cell-thumb":l(({row:e})=>[t(r,{"auto-width":""},{default:l(()=>[e!=null&&e.media[0]?(s(),m(x,{key:0,square:"",size:"120px"},{default:l(()=>{var d;return[t(U,{src:(d=e==null?void 0:e.media[0])==null?void 0:d.original_url,alt:"alt"},null,8,["src"])]}),_:2},1024)):(s(),m(x,{key:1,square:"",size:"120px"},{default:l(()=>[t(I,{name:"mdi-image-off"})]),_:1}))]),_:2},1024)]),"body-cell-applicant":l(({row:e})=>[t(r,{"auto-width":""},{default:l(()=>[n(u(e.applicant.length),1)]),_:2},1024)]),"body-cell-actions":l(({row:e})=>[t(r,null,{default:l(()=>[t(Q,{flat:"",icon:"mdi-dots-vertical",color:"green"},{default:l(()=>[t(C,null,{default:l(()=>[t(L,null,{default:l(()=>[t(c,{clickable:"",target:"_blank",href:`/job/${e.uuid}`},{default:l(()=>[t(p,null,{default:l(()=>[n("Preview Job Post")]),_:1})]),_:2},1032,["href"]),t(c,{clickable:"",href:`/admin/jobs/${e.id}`},{default:l(()=>[t(p,null,{default:l(()=>[n("Show Applicants")]),_:1})]),_:2},1032,["href"]),t(c,{clickable:"",href:`/admin/jobs/${e.id}/edit`},{default:l(()=>[t(p,null,{default:l(()=>[n("Edit")]),_:1})]),_:2},1032,["href"]),t(c,{clickable:"",onClick:d=>a.$inertia.delete(`/admin/jobs/${e.id}`)},{default:l(()=>[t(p,null,{default:l(()=>[n("Delete")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["rows","columns"])]),_:1})]),_:1}))}});export{De as default};
