import{Q as n}from"./QCardSection.9b50796e.js";import{Q as u}from"./QSeparator.91960911.js";import{Q as d}from"./QInput.ab7662bb.js";import{Q as c}from"./QSpace.4fab7da7.js";import{r as p,u as f,o as _,c as g,w as t,b as s,a as l,g as o,v as Q,f as V}from"./app.4a522239.js";import{a as v,Q as B}from"./QCardActions.ad8a9dd2.js";import{Q as P}from"./QForm.9a5af0b3.js";import"./focus-manager.5d096218.js";import"./use-key-composition.60849670.js";import"./uid.42677368.js";const x=l("div",{class:"text-h6"}," Update Password",-1),C=l("div",{class:"text-subtitle2"}," Ensure your account is using a long, random password to stay secure. ",-1),b={class:"q-gutter-md w-full"},j={__name:"UpdatePasswordForm",setup(y){const m=p(null),i=p(null),r=f({current_password:"",password:"",password_confirmation:""}),w=()=>{r.put(route("user-password.update"),{errorBag:"updatePassword",preserveScroll:!0,onSuccess:()=>r.reset(),onError:()=>{r.errors.password&&(r.reset("password","password_confirmation"),m.value.focus()),r.errors.current_password&&(r.reset("current_password"),i.value.focus())}})};return(S,e)=>(_(),g(P,{class:"mx-auto"},{default:t(()=>[s(B,{flat:"",bordered:""},{default:t(()=>[s(n,null,{default:t(()=>[x,C]),_:1}),s(u),s(n,null,{default:t(()=>[l("div",b,[s(d,{type:"password",error:Boolean(o(r).errors.current_password),"error-message":o(r).errors.current_password,modelValue:o(r).current_password,"onUpdate:modelValue":e[0]||(e[0]=a=>o(r).current_password=a),outlined:"",label:"Current Password"},null,8,["error","error-message","modelValue"]),s(d,{type:"password",error:Boolean(o(r).errors.password),"error-message":o(r).errors.password,modelValue:o(r).password,"onUpdate:modelValue":e[1]||(e[1]=a=>o(r).password=a),outlined:"",label:"New Password"},null,8,["error","error-message","modelValue"]),s(d,{type:"password",error:Boolean(o(r).errors.password_confirmation),"error-message":o(r).errors.password_confirmation,modelValue:o(r).password_confirmation,"onUpdate:modelValue":e[2]||(e[2]=a=>o(r).password_confirmation=a),outlined:"",label:"Confirm Password"},null,8,["error","error-message","modelValue"])])]),_:1}),s(u),s(v,null,{default:t(()=>[s(c),s(Q,{unelevated:"",color:"primary",onClick:e[3]||(e[3]=a=>w()),loading:o(r).processing,icon:"save"},{default:t(()=>[V("Save")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}))}};export{j as default};
