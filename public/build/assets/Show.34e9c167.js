import{Q as S}from"./QSpace.df620be1.js";import{Q as j}from"./QCardActions.0d28aefe.js";import{Q as $}from"./QCard.ecdea242.js";import{Q as N}from"./QInput.bd61e216.js";import{Q as w}from"./QSelect.a62e0a97.js";import{Z as C,r as b,o as r,c as d,w as a,b as t,a as s,t as h,g,aN as Q,f as p,a4 as B,v,Q as I,_ as q,d as L,h as P,F as z,aq as A}from"./app.252abc54.js";import{Q as E,a as c}from"./QTable.c0f2a96e.js";import{Q as F,e as T,b as M,c as U}from"./QLayout.462e00c5.js";import{Q as D}from"./QPage.e91e44b1.js";import{_ as J}from"./AppLayout.vue_vue_type_script_setup_true_lang.17718254.js";import{u as R}from"./use-quasar.17c529f9.js";import"./focus-manager.fd7085ed.js";import"./use-key-composition.ff711400.js";import"./uid.42677368.js";import"./format.ef911eb1.js";import"./QDialog.5b1bed45.js";import"./use-prevent-scroll.2576f6cd.js";import"./focusout.451ce057.js";import"./QSeparator.acc8a0c8.js";import"./QCheckbox.3a79f053.js";import"./use-fullscreen.5c35fc16.js";import"./QImg.760f603f.js";import"./touch.70a9dd44.js";const Z={class:"text-h6"},G={class:"flex justify-between w-full"},H=s("h3",{class:"text-h6"},"Applicants",-1),K=["onSubmit"],O={class:"flex q-gutter-sm"},W=["href"],X=["src"],Ve=C({__name:"Show",props:{job:null,applicant_status:null,applicants:null},setup(i){var f,_;const{job:x,applicant_status:Y}=i;R();const k=b([{name:"first_name",label:"Name",field:"first_name",sortable:!0,align:"left"},{name:"last_name",label:"Last Name",field:"last_name",sortable:!0,align:"left"},{name:"email",label:"Email",field:"email",sortable:!0,align:"left"},{name:"phone",label:"Phone",field:"phone",sortable:!0,align:"left"},{name:"resume",label:"Resume",field:"resume",sortable:!0,align:"left"},{name:"status",label:"Status",field:"status",sortable:!0,align:"left"},{name:"view",label:"View",field:"view",sortable:!0,align:"left"}]),o=b({search:(f=route().params.search)!=null?f:"",applicant_status_id:(_=route().params.applicant_status_id)!=null?_:null});function y(n){return n==="application/pdf"?"/images/pdf.png":n==="application/msword"?"/images/doc.png":"/images/google-docs.png"}function V(){A.Inertia.get(`/admin/jobs/${x.id}`,o.value)}return(n,m)=>(r(),d(J,{title:"Jobs"},{default:a(()=>[t(D,{padding:"",class:"flex flex-col"},{default:a(()=>[t($,{class:"mx-auto max-w-7xl w-full mb-5",flat:"",bordered:""},{default:a(()=>[t(j,{class:"q-pa-md"},{default:a(()=>[s("div",Z,h(i.job.title),1),t(S),t(g(Q),{href:`/admin/jobs/${i.job.id}/edit`,unelevated:"",dense:"","text-color":"black",class:"border pa-2"},{default:a(()=>[p("Edit")]),_:1},8,["href"])]),_:1})]),_:1}),t(E,{class:"mx-auto max-w-7xl w-full",rows:i.applicants,columns:k.value,pagination:{rowsPerPage:50}},{top:a(()=>[s("div",G,[H,s("form",{method:"get",onSubmit:B(V,["prevent"])},[s("div",O,[t(N,{modelValue:o.value.search,"onUpdate:modelValue":m[0]||(m[0]=e=>o.value.search=e),outlined:"",name:"search",dense:"",placeholder:"Search by name, email, phone"},null,8,["modelValue"]),t(w,{dense:"",outlined:"",options:n.$props.applicant_status,"option-label":e=>e.name,name:"applicant_status_id",modelValue:o.value.applicant_status_id,"onUpdate:modelValue":m[1]||(m[1]=e=>o.value.applicant_status_id=e),"option-value":"id","emit-value":"","map-options":"",clearable:""},null,8,["options","option-label","modelValue"]),t(v,{unelevated:"",dense:"",type:"submit",color:"primary"},{default:a(()=>[p(" Search ")]),_:1})])],40,K)])]),"body-cell-resume":a(({row:e})=>[t(c,null,{default:a(()=>{var l;return[s("a",{href:(l=e==null?void 0:e.resume)==null?void 0:l.original_url,target:"_blank"},[e.resume?(r(),d(q,{key:1,square:"",size:"sm"},{default:a(()=>{var u;return[s("img",{src:y((u=e==null?void 0:e.resume)==null?void 0:u.mime_type)},null,8,X)]}),_:2},1024)):(r(),d(I,{key:0,name:"mdi-close-circle-outline",size:"sm",color:"red"}))],8,W)]}),_:2},1024)]),"body-cell-view":a(({row:e})=>[t(c,null,{default:a(()=>[t(g(Q),{href:`/admin/jobs/${e.jobs_id}/applicant/${e.id}`,unelevated:"",dense:"","text-color":"black",class:"border pa-2"},{default:a(()=>[p("View")]),_:2},1032,["href"])]),_:2},1024)]),"body-cell-status":a(({row:e})=>[t(c,null,{default:a(()=>[t(v,{unelevated:"",dense:"","text-color":"black",class:"border pa-2",color:e.applicant_status.color,label:e.applicant_status.name,size:"sm"},{default:a(()=>[t(F,null,{default:a(()=>[t(T,null,{default:a(()=>[(r(!0),L(z,null,P(i.applicant_status,(l,u)=>(r(),d(M,{disable:e.applicant_status.name===l.name||l.name==="New",key:u,clickable:"",onClick:ee=>n.$inertia.put(`/admin/applicant/${e.id}`,{applicant_status_id:l.id})},{default:a(()=>[t(U,null,{default:a(()=>[p(h(l.name),1)]),_:2},1024)]),_:2},1032,["disable","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["color","label"])]),_:2},1024)]),_:1},8,["rows","columns"])]),_:1})]),_:1}))}});export{Ve as default};
