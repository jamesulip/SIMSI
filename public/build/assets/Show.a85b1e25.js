import{Q as h}from"./QSpace.90654078.js";import{a8 as V,r as g,o as u,c,w as a,b as l,aE as j,aH as S,a as t,t as v,x as p,f as r,ag as $,aG as w,Q as C,a9 as I,g as N,bq as B,d as q,h as E,F as L,aI as P}from"./app.6ab9887a.js";import{Q as z}from"./QSelect.a4b3eac9.js";import{Q as A,a as f}from"./QTable.3ea6dcc9.js";import{Q as F,e as T,b as M,c as U}from"./QLayout.cf26737b.js";import{Q as D}from"./QPage.741b019d.js";import{_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang.82358d3f.js";import{u as H}from"./use-quasar.d5d6848c.js";import"./format.ff5040ca.js";import"./use-fullscreen.dd848a59.js";import"./QImg.3a5426c0.js";import"./touch.70a9dd44.js";const J={class:"text-h6"},R={class:"flex w-full"},K={class:"flex justify-between w-full"},O=t("h3",{class:"text-h6"},"Applicants",-1),W=["onSubmit"],X={class:"flex q-gutter-sm"},Y=["href"],Z=["src"],fe=V({__name:"Show",props:{job:null,applicant_status:null,applicants:null},setup(n){var _,b;const{job:Q,applicant_status:ee}=n;H();const x=g([{name:"first_name",label:"Name",field:"first_name",sortable:!0,align:"left"},{name:"last_name",label:"Last Name",field:"last_name",sortable:!0,align:"left"},{name:"email",label:"Email",field:"email",sortable:!0,align:"left"},{name:"phone",label:"Phone",field:"phone",sortable:!0,align:"left"},{name:"resume",label:"Resume",field:"resume",sortable:!0,align:"left"},{name:"status",label:"Status",field:"status",sortable:!0,align:"left"},{name:"view",label:"View",field:"view",sortable:!0,align:"left"}]),i=g({search:(_=route().params.search)!=null?_:"",applicant_status_id:(b=route().params.applicant_status_id)!=null?b:null});function k(o){return o==="application/pdf"?"/images/pdf.png":o==="application/msword"?"/images/doc.png":"/images/google-docs.png"}function y(){P.Inertia.get(`/admin/jobs/${Q.id}`,i.value)}return(o,d)=>(u(),c(G,{title:"Jobs"},{default:a(()=>[l(D,{padding:"",class:"flex flex-col"},{default:a(()=>[l(j,{class:"mx-auto max-w-7xl w-full mb-5",flat:"",bordered:""},{default:a(()=>[l(S,{class:"q-pa-md"},{default:a(()=>[t("div",J,v(n.job.title),1),l(h),l(p,{href:`/admin/jobs/${n.job.id}/edit`,unelevated:"",dense:"","text-color":"black",class:"border pa-2"},{default:a(()=>[r("Edit")]),_:1},8,["href"]),l(p,{href:`/job/${n.job.uuid}`,unelevated:"",dense:"","text-color":"black",class:"border pa-2",target:"_blank"},{default:a(()=>[r("View")]),_:1},8,["href"])]),_:1})]),_:1}),t("div",R,[l(h)]),l(A,{class:"mx-auto max-w-7xl w-full",rows:n.applicants,columns:x.value,pagination:{rowsPerPage:50}},{top:a(()=>[t("div",K,[O,t("form",{method:"get",onSubmit:$(y,["prevent"])},[t("div",X,[l(w,{modelValue:i.value.search,"onUpdate:modelValue":d[0]||(d[0]=e=>i.value.search=e),outlined:"",name:"search",dense:"",placeholder:"Search by name, email, phone"},null,8,["modelValue"]),l(z,{dense:"",outlined:"",options:o.$props.applicant_status,"option-label":e=>e.name,name:"applicant_status_id",modelValue:i.value.applicant_status_id,"onUpdate:modelValue":d[1]||(d[1]=e=>i.value.applicant_status_id=e),"option-value":"id","emit-value":"","map-options":"",clearable:""},null,8,["options","option-label","modelValue"]),l(p,{unelevated:"",dense:"",type:"submit",color:"primary"},{default:a(()=>[r(" Search ")]),_:1})])],40,W)])]),"body-cell-resume":a(({row:e})=>[l(f,null,{default:a(()=>{var s;return[t("a",{href:(s=e==null?void 0:e.resume)==null?void 0:s.original_url,target:"_blank"},[e.resume?(u(),c(I,{key:1,square:"",size:"sm"},{default:a(()=>{var m;return[t("img",{src:k((m=e==null?void 0:e.resume)==null?void 0:m.mime_type)},null,8,Z)]}),_:2},1024)):(u(),c(C,{key:0,name:"mdi-close-circle-outline",size:"sm",color:"red"}))],8,Y)]}),_:2},1024)]),"body-cell-view":a(({row:e})=>[l(f,null,{default:a(()=>[l(N(B),{href:`/admin/jobs/${e.jobs_id}/applicant/${e.id}`,unelevated:"",dense:"","text-color":"black",class:"border pa-2"},{default:a(()=>[r("View")]),_:2},1032,["href"])]),_:2},1024)]),"body-cell-status":a(({row:e})=>[l(f,null,{default:a(()=>[l(p,{unelevated:"",dense:"","text-color":"black",class:"border pa-2",color:e.applicant_status.color,label:e.applicant_status.name,size:"sm"},{default:a(()=>[l(F,null,{default:a(()=>[l(T,null,{default:a(()=>[(u(!0),q(L,null,E(n.applicant_status,(s,m)=>(u(),c(M,{disable:e.applicant_status.name===s.name||s.name==="New",key:m,clickable:"",onClick:ae=>o.$inertia.put(`/admin/applicant/${e.id}`,{applicant_status_id:s.id})},{default:a(()=>[l(U,null,{default:a(()=>[r(v(s.name),1)]),_:2},1024)]),_:2},1032,["disable","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["color","label"])]),_:2},1024)]),_:1},8,["rows","columns"])]),_:1})]),_:1}))}});export{fe as default};
