import{a8 as $,r as c,o as v,c as w,w as t,b as l,ag as q,aE as U,aF as n,O as u,aG as m,x as d,a as p,d as j,h as F,F as M,g as I,Q as y,P as Q,aH as B,f as E,aI as L}from"./app.b5a26f5c.js";import{Q as N,C as k}from"./ClosePopup.75b82bee.js";import{Q as g}from"./QSelect.0cdadbd2.js";import{Q as x,a as C}from"./QPopupProxy.fdc33796.js";import{Q as T}from"./QFile.ab7d6de1.js";import{Q as A}from"./QSpace.241b6e43.js";import{Q as J}from"./QForm.0fd662b2.js";import{Q as G}from"./QPage.7a79fe50.js";import{_ as O}from"./AppLayout.vue_vue_type_script_setup_true_lang.62f5af82.js";import{d as h}from"./date.48c5620a.js";import{u as H}from"./index.3fc0a399.js";import"./QTooltip.b2866ceb.js";import"./QLayout.fc7e5f34.js";import"./use-fullscreen.c6efafb5.js";import"./format.5a9426b5.js";import"./use-cache.b0833c75.js";import"./QImg.0e6c3cab.js";import"./touch.70a9dd44.js";const R=p("div",{class:"text-h6"},"Job Details",-1),K={class:"p-2 bg-gray-100 grid grid-cols-1 gap-3"},W={class:"grid grid-cols-2 gap-3"},X={class:"row items-center justify-end"},Z={class:"row items-center justify-end"},_e=$({__name:"Create",props:{job_types:null,employers:null},setup(f){const{job_types:ee,employers:D}=f,a=c({title:"",description:"",location:"",salary:"",show_salary:"",skills:[],images:[]}),b=c(null);function z(){!b.value.validate()||L.Inertia.post("/admin/jobs",{...a.value,text_content:a.value.description,date_posted:h.formatDate(new Date,"YYYY-MM-DD"),date_expires:h.formatDate(new Date,"YYYY-MM-DD")},{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{a.value={title:"",description:"",location:"",salary:"",show_salary:"",skills:[]}}})}const{data:_,isFetching:S}=H("https://restcountries.com/v3.1/all?fields=name").json(),V=c(_.value);function Y(i,o,e){o(()=>{const s=i.toLowerCase();V.value=_.value.filter(r=>r.name.common.toLowerCase().indexOf(s)>-1)})}function P(i){a.value.location=D.find(o=>o.id==i).country}return(i,o)=>(v(),w(O,{title:"Jobs"},{default:t(()=>[l(G,{padding:"",class:"flex w-full"},{default:t(()=>[l(J,{ref_key:"form",ref:b,class:"mx-auto",onSubmit:q(z,["prevent"])},{default:t(()=>[l(U,{flat:"",bordered:"",class:"max-w-7xl"},{default:t(()=>[l(n,null,{default:t(()=>[R]),_:1}),l(u),l(n,null,{default:t(()=>[l(m,{dense:"",modelValue:a.value.title,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value.title=e),label:"Title",outlined:"","lazy-rules":"",rules:[e=>!!e||"Please type something"]},null,8,["modelValue","rules"])]),_:1}),l(u),l(n,null,{default:t(()=>[l(N,{placeholder:"Type Job Description here...","model-value":a.value.description,"onUpdate:model-value":o[1]||(o[1]=e=>a.value.description=e),toolbar:[[{label:i.$q.lang.editor.align,icon:i.$q.iconSet.editor.align,fixedLabel:!0,options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:i.$q.lang.editor.formatting,icon:i.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6"]},{label:i.$q.lang.editor.fontSize,icon:i.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:i.$q.lang.editor.defaultFont,icon:i.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"},label:"Description",outlined:"","lazy-rules":"",rules:[e=>!!e||"Please type something"]},null,8,["model-value","toolbar","rules"])]),_:1}),l(u),l(n,{class:"q-gutter-sm"},{default:t(()=>[l(d,{class:"q-mr-sm",color:"primary",flat:"",label:"Qualifications",unelevated:"",icon:"add",onClick:o[2]||(o[2]=e=>a.value.skills.push(""))}),p("div",K,[(v(!0),j(M,null,F(a.value.skills,(e,s)=>(v(),w(m,{dense:"",type:"textarea",outlined:"",rows:"2",key:`phone-${s}`,"model-value":a.value.skills[s],"onUpdate:model-value":r=>a.value.skills[s]=r,label:"Qualifications",rules:[r=>!!r||"Please type something",r=>r.length>2||"Please type something"]},{append:t(()=>[l(d,{unelevated:"",class:"q-mr-sm",color:"red",icon:"delete",flat:"",onClick:r=>a.value.skills.splice(s,1)},null,8,["onClick"])]),_:2},1032,["model-value","onUpdate:model-value","rules"]))),128))])]),_:1}),l(u),l(n,{class:"q-gutter-md"},{default:t(()=>[p("div",W,[l(g,{dense:"",modelValue:a.value.employer_id,"onUpdate:modelValue":[o[3]||(o[3]=e=>a.value.employer_id=e),P],outlined:"",label:"Employer",options:f.employers,"map-options":"","emit-value":"","option-value":e=>e.id,"option-label":e=>e.name},null,8,["modelValue","options","option-value","option-label"]),l(g,{dense:"","use-input":"",options:V.value,onFilter:Y,modelValue:a.value.location,"onUpdate:modelValue":o[4]||(o[4]=e=>a.value.location=e),outlined:"",label:"Country",loading:I(S),"option-label":e=>{var s;return(s=e==null?void 0:e.name)==null?void 0:s.common},"map-options":"","emit-value":"","option-value":e=>{var s;return(s=e==null?void 0:e.name)==null?void 0:s.common}},null,8,["options","modelValue","loading","option-label","option-value"])])]),_:1}),l(n,{class:"flex gap-3"},{default:t(()=>[l(m,{dense:"",prefix:"Php",modelValue:a.value.salary,"onUpdate:modelValue":o[5]||(o[5]=e=>a.value.salary=e),label:"Salary",type:"number",class:"w-1/2",outlined:"",hint:"You can leave this field empty if you don't want to show salary","lazy-rules":""},null,8,["modelValue"])]),_:1}),l(n,{class:"flex gap-3"},{default:t(()=>[l(g,{class:"flex-1",clearable:"",dense:"",modelValue:a.value.job_type_id,"onUpdate:modelValue":o[6]||(o[6]=e=>a.value.job_type_id=e),"emit-value":"","map-options":"",label:"Employment Type",outlined:"",options:f.job_types,"lazy-rules":"","option-value":"id","option-label":"name"},null,8,["modelValue","options"])]),_:1}),l(n,{class:"flex gap-3"},{default:t(()=>[l(m,{dense:"",class:"flex-1",modelValue:a.value.date_posted,"onUpdate:modelValue":o[8]||(o[8]=e=>a.value.date_posted=e),label:"Date Posted",outlined:"","lazy-rules":""},{append:t(()=>[l(y,{name:"event",class:"cursor-pointer"},{default:t(()=>[l(x,{"transition-show":"scale","transition-hide":"scale"},{default:t(()=>[l(C,{mask:"YYYY-MM-DD",modelValue:a.value.date_posted,"onUpdate:modelValue":o[7]||(o[7]=e=>a.value.date_posted=e)},{default:t(()=>[p("div",X,[Q(l(d,{label:"Close",color:"primary",flat:""},null,512),[[k]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(m,{dense:"",class:"flex-1",modelValue:a.value.date_expires,"onUpdate:modelValue":o[10]||(o[10]=e=>a.value.date_expires=e),label:"Date Expires",outlined:"","lazy-rules":""},{append:t(()=>[l(y,{name:"event",class:"cursor-pointer"},{default:t(()=>[l(x,{"transition-show":"scale","transition-hide":"scale"},{default:t(()=>[l(C,{modelValue:a.value.date_expires,"onUpdate:modelValue":o[9]||(o[9]=e=>a.value.date_expires=e),mask:"YYYY-MM-DD"},{default:t(()=>[p("div",Z,[Q(l(d,{label:"Close",color:"primary",flat:""},null,512),[[k]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(u),l(n,null,{default:t(()=>[l(T,{dense:"",outlined:"",modelValue:a.value.images,"onUpdate:modelValue":o[11]||(o[11]=e=>a.value.images=e),multiple:"",rules:[e=>!!e||"Please upload at least one image",e=>e.length<=5||"Please upload at most 5 images",e=>e.every(s=>s.size<8e6)||"Please upload images less than 8mb",e=>e.every(s=>s.type.includes("image"))||"Please upload images only"]},{prepend:t(()=>[l(y,{name:"attach_file"})]),_:1},8,["modelValue","rules"])]),_:1}),l(u),l(B,{align:"right"},{default:t(()=>[l(d,{size:"lg",onClick:o[12]||(o[12]=e=>i.$inertia.get("/admin/jobs")),color:"negative"},{default:t(()=>[E(" Cancel ")]),_:1}),l(A),l(d,{size:"lg",icon:"mdi-content-save-outline",label:"Save",type:"submit",color:"primary"})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}))}});export{_e as default};
