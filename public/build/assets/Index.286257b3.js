import{d as T,e as S,Q as C,f as L,a as f,b as p}from"./QList.14660c9e.js";import{Q as y}from"./QSpace.65b0b14f.js";import{a2 as M,r as k,s as H,o as s,c as u,w as e,b as l,a as i,f as n,v as _,t as m,e as b,d as h,g as v,aN as N,F as V,h as D,a3 as x,Q as I}from"./app.ff758b6b.js";import{Q as A,b as B,a as E}from"./QCard.d0dd7adb.js";import{Q as J}from"./QInput.e6c6b9fd.js";import{Q as P}from"./QForm.9769249f.js";import{Q as g}from"./QChip.e1d25e07.js";import{Q as q,a as r}from"./QTable.fbec36d1.js";import{Q as Y}from"./QImg.eb6c192c.js";import{Q as F}from"./QPage.d4c1fc98.js";import{_ as z}from"./AppLayout.vue_vue_type_script_setup_true_lang.65c521d4.js";import{d as U}from"./date.b0d938a3.js";import"./focusout.d047a4c4.js";import"./focus-manager.d33e3981.js";import"./use-key-composition.aa771d56.js";import"./uid.42677368.js";import"./QSeparator.bd60b14f.js";import"./QSelect.cfa5a8e8.js";import"./QItemLabel.179cd328.js";import"./QDialog.dad5f0e9.js";import"./use-prevent-scroll.27eec8c6.js";import"./format.2bc25e5f.js";import"./QCheckbox.4d28d359.js";import"./use-fullscreen.343c0d4c.js";import"./touch.70a9dd44.js";const G=i("div",null,[i("span",null," Here you can see all the jobs that are currently available. ")],-1),K={key:0,class:"leading-10"},O=["innerHTML"],R={class:"text-ellipsis overflow-hidden max-w-md"},W=["innerHTML"],X={class:"text-ellipsis overflow-hidden max-w-md"},Z=["innerHTML"],w={key:0},ee={class:"flex items-center"},te=i("label",{for:"",class:"text-subtitle2"}," Skills: ",-1),le={class:"flex items-center"},ae=i("label",{for:"",class:"text-subtitle2"}," Job Type: ",-1),Le=M({__name:"Index",props:{jobs:null},setup(Q){const{jobs:j}=Q,c=k(route().params.search),$=k([{name:"thumb",label:"Thumb",field:"thumb",sortable:!0,align:"left",format:a=>a?`<img src="${a}" width="50" />`:"Not Specified"},{name:"title",label:"Title",field:"title",sortable:!0,align:"left"},{label:"Employer",field:a=>{var o,t;return(t=(o=a==null?void 0:a.employer)==null?void 0:o.name)!=null?t:"Not Specified"},sortable:!0,align:"left"},{name:"created_at",label:"Date Created",field:"created_at",sortable:!0,align:"left",format:a=>a?`$${a}`:"Not Specified"},{name:"date_expires",label:"Posting Ends",field:"date_expires",sortable:!0,align:"left"},{name:"skills",label:"Skills",field:"skills",sortable:!0,align:"left"},{name:"applicant",label:"Applicants",field:"applicant",sortable:!0,align:"left"},{name:"actions",label:"Actions",field:"actions",sortable:!0,align:"left"}]);return H(()=>{j.forEach(a=>{a.description=a.description.replace(/(<([^>]+)>)/gi,"")})}),(a,o)=>(s(),u(z,{title:"Jobs"},{default:e(()=>[l(F,{padding:""},{default:e(()=>[l(P,{onSubmit:o[3]||(o[3]=t=>a.$inertia.get("/admin/jobs",{search:c.value}))},{default:e(()=>[l(A,{flat:"",bordered:"",class:"mb-5"},{default:e(()=>[l(B,{class:"q-pa-md"},{default:e(()=>[l(T,null,{default:e(()=>[i("div",null,[l(S,null,{default:e(()=>[n("Job List")]),_:1}),G]),l(y),l(_,{onClick:o[0]||(o[0]=t=>a.$inertia.get("/admin/jobs/create")),unelevated:"",icon:"mdi-plus",label:"Post Job",color:"green"})]),_:1})]),_:1}),l(E,null,{default:e(()=>[l(y),l(J,{clearable:"",onClear:o[1]||(o[1]=t=>a.$inertia.get("/admin/jobs",{search:c.value})),modelValue:c.value,"onUpdate:modelValue":o[2]||(o[2]=t=>c.value=t),outlined:"",placeholder:"Search",class:"q-mb-md"},null,8,["modelValue"]),l(_,{unelevated:"",icon:"mdi-magnify",label:"Search",color:"green"})]),_:1})]),_:1})]),_:1}),l(q,{separator:"cell",flat:"",bordered:"",rows:Q.jobs,columns:$.value,"row-key":"id","rows-per-page-options":[20,50,80,100]},{"body-cell-job_type":e(({row:t})=>[l(r,null,{default:e(()=>[t.job_type?(s(),u(g,{key:0,color:"green","text-color":"white"},{default:e(()=>[n(m(t.job_type.name),1)]),_:2},1024)):b("",!0)]),_:2},1024)]),"body-cell-created_at":e(({row:t})=>[l(r,null,{default:e(()=>[t.date_posted?(s(),h("div",K,m(v(U).formatDate(t.created_at,"DD/MM/YYYY")),1)):b("",!0)]),_:2},1024)]),"body-cell-skills":e(({row:t})=>[l(r)]),"body-cell-title":e(({row:t})=>[l(r,null,{default:e(()=>[l(v(N),{href:`/admin/jobs/${t.id}`},{default:e(()=>[i("div",{class:"text-bold text-h6",innerHTML:t.title},null,8,O),i("div",R,[i("span",{innerHTML:t.description},null,8,W)]),i("div",X,[i("span",{innerHTML:t.location},null,8,Z)]),t.skills?(s(),h("span",w,[i("div",ee,[te,(s(!0),h(V,null,D(t.skills,d=>(s(),u(g,{key:d.id,color:"green","text-color":"white"},{default:e(()=>[n(m(d),1)]),_:2},1024))),128))])])):b("",!0),i("div",le,[ae,t.job_type?(s(),u(g,{key:0,color:"green","text-color":"white"},{default:e(()=>[n(m(t.job_type.name),1)]),_:2},1024)):b("",!0)])]),_:2},1032,["href"])]),_:2},1024)]),"body-cell-thumb":e(({row:t})=>[l(r,{"auto-width":""},{default:e(()=>[t!=null&&t.media[0]?(s(),u(x,{key:0,square:"",size:"120px"},{default:e(()=>{var d;return[l(Y,{src:(d=t==null?void 0:t.media[0])==null?void 0:d.original_url,alt:"alt"},null,8,["src"])]}),_:2},1024)):(s(),u(x,{key:1,square:"",size:"120px"},{default:e(()=>[l(I,{name:"mdi-image-off"})]),_:1}))]),_:2},1024)]),"body-cell-applicant":e(({row:t})=>[l(r,{"auto-width":""},{default:e(()=>[n(m(t.applicant.length),1)]),_:2},1024)]),"body-cell-actions":e(({row:t})=>[l(r,null,{default:e(()=>[l(_,{flat:"",icon:"mdi-dots-vertical",color:"green"},{default:e(()=>[l(C,null,{default:e(()=>[l(L,null,{default:e(()=>[l(f,{clickable:"",target:"_blank",href:`/job/${t.uuid}`},{default:e(()=>[l(p,null,{default:e(()=>[n("Preview Job Post")]),_:1})]),_:2},1032,["href"]),l(f,{clickable:"",href:`/admin/jobs/${t.id}`},{default:e(()=>[l(p,null,{default:e(()=>[n("Show Applicants")]),_:1})]),_:2},1032,["href"]),l(f,{clickable:"",href:`/admin/jobs/${t.id}/edit`},{default:e(()=>[l(p,null,{default:e(()=>[n("Edit")]),_:1})]),_:2},1032,["href"]),l(f,{clickable:"",onClick:d=>a.$inertia.delete(`/admin/jobs/${t.id}`)},{default:e(()=>[l(p,null,{default:e(()=>[n("Delete")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["rows","columns"])]),_:1})]),_:1}))}});export{Le as default};
