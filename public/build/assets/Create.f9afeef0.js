import{Q as oe,a as _}from"./QCard.72456d82.js";import{Q as I}from"./QSeparator.5868ae47.js";import{u as se,Q as k}from"./QInput.5f8c0150.js";import{Q as ue,a as K,b as G,C as J}from"./ClosePopup.5b4785c5.js";import{Q as X}from"./QSelect.f0881067.js";import{z as te,r as w,j as v,K as re,G as le,C as de,k as x,i as me,ag as ce,p as fe,a5 as pe,o as ve,c as ge,w as d,b as a,ab as be,Q as B,a as L,W as H,I as $,f as ye,aq as he}from"./app.1e2775b7.js";import{Q as Ve}from"./QChip.ee9d7b32.js";import{u as _e,a as Se,b as xe,c as Fe,d as ze,e as Ce,f as Z}from"./use-key-composition.0fdf552c.js";import{h as ke}from"./format.2bc25e5f.js";import{Q as we}from"./QSpace.515ba66f.js";import{Q as De}from"./QCardActions.66464e71.js";import{Q as Qe}from"./QForm.6796838c.js";import{Q as je}from"./QPage.66c200d1.js";import{_ as qe}from"./AppLayout.vue_vue_type_script_setup_true_lang.169cc80d.js";import{d as ee}from"./date.13a67273.js";import"./use-dark.4a817b5c.js";import"./uid.6c68528c.js";import"./use-prevent-scroll.42060650.js";import"./touch.5e4e5ca4.js";import"./use-fullscreen.d9dbef1d.js";import"./use-cache.b0833c75.js";import"./QDialog.e72a2d36.js";import"./QToolbar.d796eb06.js";import"./QImg.ff92bb9c.js";function F(e,l,S,h){const m=[];return e.forEach(s=>{h(s)===!0?m.push(s):l.push({failedPropValidation:S,file:s})}),m}function A(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),le(e)}const Pe={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Ye=["rejected"];function Ne({editable:e,dnd:l,getFileInput:S,addFilesToQueue:h}){const{props:m,emit:s,proxy:n}=te(),i=w(null),D=v(()=>m.accept!==void 0?m.accept.split(",").map(t=>(t=t.trim(),t==="*"?"*/":(t.endsWith("/*")&&(t=t.slice(0,t.length-1)),t.toUpperCase()))):null),Q=v(()=>parseInt(m.maxFiles,10)),j=v(()=>parseInt(m.maxTotalSize,10));function q(t){if(e.value)if(t!==Object(t)&&(t={target:null}),t.target!==null&&t.target.matches('input[type="file"]')===!0)t.clientX===0&&t.clientY===0&&re(t);else{const b=S();b&&b!==t.target&&b.click(t)}}function P(t){e.value&&t&&h(null,t)}function U(t,b,z,C){let u=Array.from(b||t.target.files);const g=[],V=()=>{g.length>0&&s("rejected",g)};if(m.accept!==void 0&&D.value.indexOf("*/")===-1&&(u=F(u,g,"accept",r=>D.value.some(f=>r.type.toUpperCase().startsWith(f)||r.name.toUpperCase().endsWith(f))),u.length===0))return V();if(m.maxFileSize!==void 0){const r=parseInt(m.maxFileSize,10);if(u=F(u,g,"max-file-size",f=>f.size<=r),u.length===0)return V()}if(m.multiple!==!0&&u.length>0&&(u=[u[0]]),u.forEach(r=>{r.__key=r.webkitRelativePath+r.lastModified+r.name+r.size}),C===!0){const r=z.map(f=>f.__key);u=F(u,g,"duplicate",f=>r.includes(f.__key)===!1)}if(u.length===0)return V();if(m.maxTotalSize!==void 0){let r=C===!0?z.reduce((f,E)=>f+E.size,0):0;if(u=F(u,g,"max-total-size",f=>(r+=f.size,r<=j.value)),u.length===0)return V()}if(typeof m.filter=="function"){const r=m.filter(u);u=F(u,g,"filter",f=>r.includes(f))}if(m.maxFiles!==void 0){let r=C===!0?z.length:0;if(u=F(u,g,"max-files",()=>(r++,r<=Q.value)),u.length===0)return V()}if(V(),u.length>0)return u}function T(t){A(t),l.value!==!0&&(l.value=!0)}function c(t){le(t),(t.relatedTarget!==null||de.is.safari!==!0?t.relatedTarget!==i.value:document.elementsFromPoint(t.clientX,t.clientY).includes(i.value)===!1)===!0&&(l.value=!1)}function Y(t){A(t);const b=t.dataTransfer.files;b.length>0&&h(null,b),l.value=!1}function M(t){if(l.value===!0)return x("div",{ref:i,class:`q-${t}__dnd absolute-full`,onDragenter:A,onDragover:A,onDragleave:c,onDrop:Y})}return Object.assign(n,{pickFiles:q,addFiles:P}),{pickFiles:q,addFiles:P,onDragover:T,onDragleave:c,processFiles:U,getDndNode:M,maxFilesNumber:Q,maxTotalSizeNumber:j}}const Ie=me({name:"QFile",inheritAttrs:!1,props:{..._e,...Se,...Pe,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...xe,...Ye],setup(e,{slots:l,emit:S,attrs:h}){const{proxy:m}=te(),s=Fe(),n=w(null),i=w(!1),D=ze(e),{pickFiles:Q,onDragover:j,onDragleave:q,processFiles:P,getDndNode:U}=Ne({editable:s.editable,dnd:i,getFileInput:R,addFilesToQueue:W}),T=se(e),c=v(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),Y=v(()=>Z(c.value)),M=v(()=>c.value.map(o=>o.name).join(", ")),t=v(()=>ke(c.value.reduce((o,p)=>o+p.size,0))),b=v(()=>({totalSize:t.value,filesNumber:c.value.length,maxFiles:e.maxFiles})),z=v(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:D.value,...h,id:s.targetUid.value,disabled:s.editable.value!==!0})),C=v(()=>"q-file q-field--auto-height"+(i.value===!0?" q-file--dnd":"")),u=v(()=>e.multiple===!0&&e.append===!0);function g(o){const p=c.value.slice();p.splice(o,1),r(p)}function V(o){const p=c.value.findIndex(o);p>-1&&g(p)}function r(o){S("update:modelValue",e.multiple===!0?o:o[0])}function f(o){o.keyCode===13&&fe(o)}function E(o){(o.keyCode===13||o.keyCode===32)&&Q(o)}function R(){return n.value}function W(o,p){const y=P(o,p,c.value,u.value),O=R();O!=null&&(O.value=""),y!==void 0&&((e.multiple===!0?e.modelValue&&y.every(ne=>c.value.includes(ne)):e.modelValue===y[0])||r(u.value===!0?c.value.concat(y):y))}function N(){return[x("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function ae(){if(l.file!==void 0)return c.value.length===0?N():c.value.map((p,y)=>l.file({index:y,file:p,ref:this}));if(l.selected!==void 0)return c.value.length===0?N():l.selected({files:c.value,ref:this});if(e.useChips===!0)return c.value.length===0?N():c.value.map((p,y)=>x(Ve,{key:"file-"+y,removable:s.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{g(y)}},()=>x("span",{class:"ellipsis",textContent:p.name})));const o=e.displayValue!==void 0?e.displayValue:M.value;return o.length>0?[x("div",{class:e.inputClass,style:e.inputStyle,textContent:o})]:N()}function ie(){const o={ref:n,...z.value,...T.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:W};return e.multiple===!0&&(o.multiple=!0),x("input",o)}return Object.assign(s,{fieldClass:C,emitValue:r,hasValue:Y,inputRef:n,innerValue:c,floatingLabel:v(()=>Y.value===!0||Z(e.displayValue)),computedCounter:v(()=>{if(e.counterLabel!==void 0)return e.counterLabel(b.value);const o=e.maxFiles;return`${c.value.length}${o!==void 0?" / "+o:""} (${t.value})`}),getControlChild:()=>U("file"),getControl:()=>{const o={ref:s.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return s.editable.value===!0&&Object.assign(o,{onDragover:j,onDragleave:q,onKeydown:f,onKeyup:E}),x("div",o,[ie()].concat(ae()))}}),Object.assign(m,{removeAtIndex:g,removeFile:V,getNativeElement:()=>n.value}),ce(m,"nativeEl",()=>n.value),Ce(s)}}),$e=L("div",{class:"text-h6"},"Job Details",-1),Ae={class:"row items-center justify-end"},Ue={class:"row items-center justify-end"},dt=pe({__name:"Create",props:{job_types:null},setup(e){const l=w({title:"",description:"",location:"",salary:"",show_salary:"",skills:[],images:[]});function S(s,n){n(s,"add-unique")}const h=w(null);function m(){!h.value.validate()||he.Inertia.post("/admin/jobs",{...l.value,text_content:l.value.description,date_posted:ee.formatDate(new Date,"YYYY-MM-DD"),date_expires:ee.formatDate(new Date,"YYYY-MM-DD")},{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{l.value={title:"",description:"",location:"",salary:"",show_salary:"",skills:[]}}})}return(s,n)=>(ve(),ge(qe,{title:"Jobs"},{default:d(()=>[a(je,{padding:""},{default:d(()=>[a(Qe,{ref_key:"form",ref:h,onSubmit:be(m,["prevent"])},{default:d(()=>[a(oe,{flat:"",bordered:"",class:"max-w-7xl"},{default:d(()=>[a(_,null,{default:d(()=>[$e]),_:1}),a(I),a(_,null,{default:d(()=>[a(k,{modelValue:l.value.title,"onUpdate:modelValue":n[0]||(n[0]=i=>l.value.title=i),label:"Title",outlined:"","lazy-rules":"",rules:[i=>!!i||"Please type something"]},null,8,["modelValue","rules"])]),_:1}),a(I),a(_,null,{default:d(()=>[a(ue,{"model-value":l.value.description,"onUpdate:model-value":n[1]||(n[1]=i=>l.value.description=i),toolbar:[[{label:s.$q.lang.editor.align,icon:s.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]},{label:s.$q.lang.editor.align,icon:s.$q.iconSet.editor.align,fixedLabel:!0,options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:s.$q.lang.editor.formatting,icon:s.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:s.$q.lang.editor.fontSize,icon:s.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:s.$q.lang.editor.defaultFont,icon:s.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"],["viewsource"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"},label:"Description",outlined:"","lazy-rules":"",rules:[i=>!!i||"Please type something"]},null,8,["model-value","toolbar","rules"])]),_:1}),a(_,{class:"q-gutter-md"},{default:d(()=>[a(k,{modelValue:l.value.location,"onUpdate:modelValue":n[2]||(n[2]=i=>l.value.location=i),label:"Location",outlined:"",hint:"You can leave this field empty if you don't want to show location","lazy-rules":"",rules:[i=>!!i||"Please type something"]},null,8,["modelValue","rules"])]),_:1}),a(_,{class:"flex gap-3"},{default:d(()=>[a(k,{prefix:"Php",modelValue:l.value.salary,"onUpdate:modelValue":n[3]||(n[3]=i=>l.value.salary=i),label:"Salary",type:"number",class:"w-1/2",outlined:"",hint:"You can leave this field empty if you don't want to show salary","lazy-rules":""},null,8,["modelValue"])]),_:1}),a(_,{class:"flex gap-3"},{default:d(()=>[a(X,{class:"flex-1","max-values":"4","use-input":"","use-chips":"",multiple:"",onNewValue:S,modelValue:l.value.skills,"onUpdate:modelValue":n[4]||(n[4]=i=>l.value.skills=i),label:"Skills Required",outlined:"","lazy-rules":"",hint:"Please separate skills with comma"},null,8,["modelValue"]),a(X,{class:"flex-1",clearable:"",modelValue:l.value.job_type_id,"onUpdate:modelValue":n[5]||(n[5]=i=>l.value.job_type_id=i),"emit-value":"","map-options":"",label:"Employment  Type",outlined:"",options:e.job_types,"lazy-rules":"","option-value":"id","option-label":"name"},null,8,["modelValue","options"])]),_:1}),a(_,{class:"flex gap-3"},{default:d(()=>[a(k,{class:"flex-1",modelValue:l.value.date_posted,"onUpdate:modelValue":n[7]||(n[7]=i=>l.value.date_posted=i),label:"Date Posted",outlined:"","lazy-rules":""},{append:d(()=>[a(B,{name:"event",class:"cursor-pointer"},{default:d(()=>[a(K,{"transition-show":"scale","transition-hide":"scale"},{default:d(()=>[a(G,{mask:"YYYY-MM-DD",modelValue:l.value.date_posted,"onUpdate:modelValue":n[6]||(n[6]=i=>l.value.date_posted=i)},{default:d(()=>[L("div",Ae,[H(a($,{label:"Close",color:"primary",flat:""},null,512),[[J]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(k,{class:"flex-1",modelValue:l.value.date_expires,"onUpdate:modelValue":n[9]||(n[9]=i=>l.value.date_expires=i),label:"Date Expires",outlined:"","lazy-rules":""},{append:d(()=>[a(B,{name:"event",class:"cursor-pointer"},{default:d(()=>[a(K,{"transition-show":"scale","transition-hide":"scale"},{default:d(()=>[a(G,{modelValue:l.value.date_expires,"onUpdate:modelValue":n[8]||(n[8]=i=>l.value.date_expires=i),mask:"YYYY-MM-DD"},{default:d(()=>[L("div",Ue,[H(a($,{label:"Close",color:"primary",flat:""},null,512),[[J]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(I),a(_,null,{default:d(()=>[a(Ie,{outlined:"",modelValue:l.value.images,"onUpdate:modelValue":n[10]||(n[10]=i=>l.value.images=i),multiple:""},{prepend:d(()=>[a(B,{name:"attach_file"})]),_:1},8,["modelValue"])]),_:1}),a(I),a(De,{align:"right"},{default:d(()=>[a($,{size:"lg",onClick:n[11]||(n[11]=i=>s.$inertia.get("/admin/jobs")),color:"negative"},{default:d(()=>[ye(" Cancel ")]),_:1}),a(we),a($,{size:"lg",icon:"mdi-content-save-outline",label:"Save",type:"submit",color:"primary"})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}))}});export{dt as default};
