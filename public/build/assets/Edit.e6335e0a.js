import{Q as d}from"./QCardSection.e36b4495.js";import{Q as b}from"./QSeparator.2f510c62.js";import{Q as f}from"./QInput.b797ca2c.js";import{Q as F,C as x}from"./ClosePopup.37237ea6.js";import{Q as c}from"./QSelect.5fc26ef6.js";import{Z as P,r as Q,o as v,c as q,w as a,b as o,a as m,g as n,Q as y,H as w,v as u,d as k,h as I,F as L,f as S,a4 as B,aq as E}from"./app.7aea84e7.js";import{Q as z,a as C}from"./QPopupProxy.770c9404.js";import{Q as N}from"./QFile.6dc64c68.js";import{Q as T}from"./QImg.176a6376.js";import{Q as A}from"./QSpace.6d163fdc.js";import{Q as J}from"./QCardActions.0b7e646a.js";import{Q as R}from"./QCard.084be34e.js";import{Q as G}from"./QPage.7d998928.js";import{_ as H}from"./AppLayout.vue_vue_type_script_setup_true_lang.6173e486.js";import{d as D}from"./date.3bba07cf.js";import{u as O}from"./use-quasar.48a0b968.js";import{u as Z}from"./index.f67739ba.js";import"./focus-manager.767e685c.js";import"./use-key-composition.0bc37020.js";import"./uid.42677368.js";import"./QTooltip.755bb14f.js";import"./QLayout.8355c957.js";import"./focusout.829000a0.js";import"./use-fullscreen.963749be.js";import"./format.59afa872.js";import"./QDialog.9c4aa11f.js";import"./use-prevent-scroll.1ace537b.js";import"./use-cache.b0833c75.js";import"./touch.70a9dd44.js";const K=["onSubmit"],W=m("div",{class:"text-h6"},"Job Details",-1),X={class:"row items-center justify-end"},_={class:"row items-center justify-end"},ee=m("br",null,null,-1),oe={class:"q-col-gutter-md row items-start"},he=P({__name:"Edit",props:{job_types:null,job:null,employers:null},setup(t){const{job:p,job_types:le}=t,i=O(),j=Q(!1);function Y(r,l){l(r,"add-unique")}function U(){E.Inertia.post(`/admin/jobs/${p.id}/update`,{...p,date_posted:D.formatDate(p.date_posted,"YYYY-MM-DD"),date_expires:D.formatDate(p.date_expires,"YYYY-MM-DD")},{preserveScroll:!0,onStart:()=>{j.value=!0,i.notify({group:"my-group",message:"Updating job...",color:"primary",position:"bottom"})},onSuccess:()=>{j.value=!1,i.notify({group:"my-group",message:"Job updated successfully",color:"positive",position:"bottom",timeout:2e3})}})}const{data:g,isFetching:$}=Z("https://restcountries.com/v3.1/all?fields=name").json(),V=Q(g.value);function h(r,l,e){l(()=>{const s=r.toLowerCase();V.value=g.value.filter(M=>M.name.common.toLowerCase().indexOf(s)>-1)})}return(r,l)=>(v(),q(H,{title:"Jobs"},{default:a(()=>[o(G,{padding:"",class:"flex w-full"},{default:a(()=>[m("form",{class:"mx-auto",onSubmit:B(U,["prevent"])},[o(R,{flat:"",bordered:"",class:"max-w-7xl"},{default:a(()=>[o(d,null,{default:a(()=>[W]),_:1}),o(b),o(d,null,{default:a(()=>[o(f,{modelValue:t.job.title,"onUpdate:modelValue":l[0]||(l[0]=e=>t.job.title=e),label:"Title",outlined:"","lazy-rules":"",rules:[e=>!!e||"Please type something"]},null,8,["modelValue","rules"])]),_:1}),o(b),o(d,null,{default:a(()=>[o(F,{"model-value":t.job.description,"onUpdate:model-value":l[1]||(l[1]=e=>t.job.description=e),toolbar:[[{label:n(i).lang.editor.align,icon:n(i).iconSet.editor.align,fixedLabel:!0,options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:n(i).lang.editor.formatting,icon:n(i).iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:n(i).lang.editor.fontSize,icon:n(i).iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:n(i).lang.editor.defaultFont,icon:n(i).iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"],["viewsource"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"},label:"Description",outlined:"","lazy-rules":"",rules:[e=>!!e||"Please type something"]},null,8,["model-value","toolbar","rules"])]),_:1}),o(d,{class:"q-gutter-md"},{default:a(()=>[o(c,{modelValue:t.job.employer_id,"onUpdate:modelValue":l[2]||(l[2]=e=>t.job.employer_id=e),outlined:"",label:"Employer",options:t.employers,"map-options":"","emit-value":"","option-value":e=>e.id,"option-label":e=>e.name},null,8,["modelValue","options","option-value","option-label"]),o(c,{"use-input":"",options:V.value,onFilter:h,modelValue:t.job.location,"onUpdate:modelValue":l[3]||(l[3]=e=>t.job.location=e),outlined:"",label:"Location",loading:n($),"option-label":e=>{var s;return(s=e==null?void 0:e.name)==null?void 0:s.common},"map-options":"","emit-value":"","option-value":e=>{var s;return(s=e==null?void 0:e.name)==null?void 0:s.common}},null,8,["options","modelValue","loading","option-label","option-value"])]),_:1}),o(d,{class:"flex gap-3"},{default:a(()=>[o(f,{prefix:"Php",modelValue:t.job.salary,"onUpdate:modelValue":l[4]||(l[4]=e=>t.job.salary=e),label:"Salary",type:"number",class:"w-1/2",outlined:"",hint:"You can leave this field empty if you don't want to show salary","lazy-rules":""},null,8,["modelValue"])]),_:1}),o(d,{class:"flex gap-3"},{default:a(()=>[o(c,{class:"flex-1","max-values":"4","use-input":"","use-chips":"",multiple:"",onNewValue:Y,modelValue:t.job.skills,"onUpdate:modelValue":l[5]||(l[5]=e=>t.job.skills=e),label:"Skills Required",outlined:"","lazy-rules":"",hint:"Please separate skills with comma"},null,8,["modelValue"]),o(c,{class:"flex-1",clearable:"",modelValue:t.job.job_type_id,"onUpdate:modelValue":l[6]||(l[6]=e=>t.job.job_type_id=e),"emit-value":"","map-options":"",label:"Employment  Type",outlined:"",options:t.job_types,"lazy-rules":"","option-value":"id","option-label":"name"},null,8,["modelValue","options"])]),_:1}),o(d,{class:"flex gap-3"},{default:a(()=>[o(f,{class:"flex-1",modelValue:t.job.date_posted,"onUpdate:modelValue":l[8]||(l[8]=e=>t.job.date_posted=e),label:"Date Posted",outlined:"","lazy-rules":""},{append:a(()=>[o(y,{name:"event",class:"cursor-pointer"},{default:a(()=>[o(z,{"transition-show":"scale","transition-hide":"scale"},{default:a(()=>[o(C,{mask:"YYYY-MM-DD",modelValue:t.job.date_posted,"onUpdate:modelValue":l[7]||(l[7]=e=>t.job.date_posted=e)},{default:a(()=>[m("div",X,[w(o(u,{label:"Close",color:"primary",flat:""},null,512),[[x]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(f,{class:"flex-1",modelValue:t.job.date_expires,"onUpdate:modelValue":l[10]||(l[10]=e=>t.job.date_expires=e),label:"Date Expires",outlined:"","lazy-rules":""},{append:a(()=>[o(y,{name:"event",class:"cursor-pointer"},{default:a(()=>[o(z,{"transition-show":"scale","transition-hide":"scale"},{default:a(()=>[o(C,{modelValue:t.job.date_expires,"onUpdate:modelValue":l[9]||(l[9]=e=>t.job.date_expires=e),mask:"YYYY-MM-DD"},{default:a(()=>[m("div",_,[w(o(u,{label:"Close",color:"primary",flat:""},null,512),[[x]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(d,null,{default:a(()=>[o(N,{outlined:"",modelValue:t.job.images,"onUpdate:modelValue":l[11]||(l[11]=e=>t.job.images=e),multiple:""},{prepend:a(()=>[o(y,{name:"attach_file"})]),_:1},8,["modelValue"]),ee,m("div",oe,[(v(!0),k(L,null,I(t.job.media,e=>(v(),k("div",{class:"col-3",key:e.id},[o(T,{src:e.original_url,"no-native-menu":""},{default:a(()=>[o(u,{class:"absolute all-pointer-events",icon:"close",flat:"",color:"red",style:{top:"8px",left:"8px"},onClick:s=>r.$inertia.delete(`/admin/jobs/${t.job.id}/media/${e.id}`)},null,8,["onClick"])]),_:2},1032,["src"])]))),128))])]),_:1}),o(b),o(J,{align:"right"},{default:a(()=>[o(u,{unelevated:"",size:"sm",onClick:l[12]||(l[12]=e=>r.$inertia.get("/admin/jobs")),color:"negative"},{default:a(()=>[S(" Cancel ")]),_:1}),o(u,{unelevated:"",size:"sm",icon:"delete",onClick:l[13]||(l[13]=e=>r.$inertia.delete(`/admin/jobs/${t.job.id}`)),color:"negative"},{default:a(()=>[S(" Delete ")]),_:1}),o(A),o(u,{unelevated:"",label:"Save",type:"submit",color:"primary",size:"sm",icon:"mdi-content-save-outline"})]),_:1})]),_:1})],40,K)]),_:1})]),_:1}))}});export{he as default};
